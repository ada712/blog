<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前言 | 奇思妙想</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="随心记">
    
    <link rel="preload" href="/blog/assets/css/0.styles.27cf9bcb.css" as="style"><link rel="preload" href="/blog/assets/js/app.1bd983b1.js" as="script"><link rel="preload" href="/blog/assets/js/4.84f2b8c1.js" as="script"><link rel="preload" href="/blog/assets/js/1.2f8de4ad.js" as="script"><link rel="preload" href="/blog/assets/js/24.ea221f36.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.e3564c7f.js"><link rel="prefetch" href="/blog/assets/js/100.da2c7a93.js"><link rel="prefetch" href="/blog/assets/js/101.8d6941b2.js"><link rel="prefetch" href="/blog/assets/js/102.c4731a0a.js"><link rel="prefetch" href="/blog/assets/js/103.c894c3b0.js"><link rel="prefetch" href="/blog/assets/js/104.492f8c34.js"><link rel="prefetch" href="/blog/assets/js/105.1beb466f.js"><link rel="prefetch" href="/blog/assets/js/106.eb47fcd4.js"><link rel="prefetch" href="/blog/assets/js/107.8dd72565.js"><link rel="prefetch" href="/blog/assets/js/108.13884e30.js"><link rel="prefetch" href="/blog/assets/js/109.b79ae5c2.js"><link rel="prefetch" href="/blog/assets/js/11.d653ea51.js"><link rel="prefetch" href="/blog/assets/js/110.e8cb6402.js"><link rel="prefetch" href="/blog/assets/js/111.962a254c.js"><link rel="prefetch" href="/blog/assets/js/112.1c865e0e.js"><link rel="prefetch" href="/blog/assets/js/113.abbcf4e0.js"><link rel="prefetch" href="/blog/assets/js/114.eace49f6.js"><link rel="prefetch" href="/blog/assets/js/115.ded270e4.js"><link rel="prefetch" href="/blog/assets/js/116.fc3bd5ac.js"><link rel="prefetch" href="/blog/assets/js/117.e8d0d7ce.js"><link rel="prefetch" href="/blog/assets/js/118.554e87be.js"><link rel="prefetch" href="/blog/assets/js/119.a6e0f846.js"><link rel="prefetch" href="/blog/assets/js/12.ec8dec5c.js"><link rel="prefetch" href="/blog/assets/js/120.629c24c0.js"><link rel="prefetch" href="/blog/assets/js/121.9cf099d3.js"><link rel="prefetch" href="/blog/assets/js/122.c44b5a8b.js"><link rel="prefetch" href="/blog/assets/js/123.cb5860e9.js"><link rel="prefetch" href="/blog/assets/js/124.71ba35ed.js"><link rel="prefetch" href="/blog/assets/js/125.12963b8e.js"><link rel="prefetch" href="/blog/assets/js/126.35e48a82.js"><link rel="prefetch" href="/blog/assets/js/127.a0d4401c.js"><link rel="prefetch" href="/blog/assets/js/128.46d5629f.js"><link rel="prefetch" href="/blog/assets/js/129.0b322fa7.js"><link rel="prefetch" href="/blog/assets/js/13.04fd3b25.js"><link rel="prefetch" href="/blog/assets/js/130.0e756258.js"><link rel="prefetch" href="/blog/assets/js/131.5c13115f.js"><link rel="prefetch" href="/blog/assets/js/132.efa5f359.js"><link rel="prefetch" href="/blog/assets/js/133.e0ab4ea7.js"><link rel="prefetch" href="/blog/assets/js/134.cba85fad.js"><link rel="prefetch" href="/blog/assets/js/135.6bbb71c4.js"><link rel="prefetch" href="/blog/assets/js/136.065ff011.js"><link rel="prefetch" href="/blog/assets/js/137.5f3247c7.js"><link rel="prefetch" href="/blog/assets/js/138.21a89930.js"><link rel="prefetch" href="/blog/assets/js/139.c3e1e298.js"><link rel="prefetch" href="/blog/assets/js/14.512024d1.js"><link rel="prefetch" href="/blog/assets/js/140.2d13327f.js"><link rel="prefetch" href="/blog/assets/js/141.523c4963.js"><link rel="prefetch" href="/blog/assets/js/142.060fb625.js"><link rel="prefetch" href="/blog/assets/js/143.c4130ee2.js"><link rel="prefetch" href="/blog/assets/js/144.3b65d25c.js"><link rel="prefetch" href="/blog/assets/js/145.cd8f1d9a.js"><link rel="prefetch" href="/blog/assets/js/146.6e61a1ac.js"><link rel="prefetch" href="/blog/assets/js/147.50eedcef.js"><link rel="prefetch" href="/blog/assets/js/148.f4d013fc.js"><link rel="prefetch" href="/blog/assets/js/149.96c51a81.js"><link rel="prefetch" href="/blog/assets/js/15.347f8e9e.js"><link rel="prefetch" href="/blog/assets/js/150.48c25cb5.js"><link rel="prefetch" href="/blog/assets/js/151.32183bbd.js"><link rel="prefetch" href="/blog/assets/js/152.e8f9ef49.js"><link rel="prefetch" href="/blog/assets/js/153.4ca217cc.js"><link rel="prefetch" href="/blog/assets/js/154.fa34241c.js"><link rel="prefetch" href="/blog/assets/js/155.6aedc925.js"><link rel="prefetch" href="/blog/assets/js/156.eec27cdb.js"><link rel="prefetch" href="/blog/assets/js/157.1e9a38a9.js"><link rel="prefetch" href="/blog/assets/js/158.63a52773.js"><link rel="prefetch" href="/blog/assets/js/159.62c31f27.js"><link rel="prefetch" href="/blog/assets/js/16.94336931.js"><link rel="prefetch" href="/blog/assets/js/160.12da0ac3.js"><link rel="prefetch" href="/blog/assets/js/161.208cb6ea.js"><link rel="prefetch" href="/blog/assets/js/162.fedac5b9.js"><link rel="prefetch" href="/blog/assets/js/17.8bfb9698.js"><link rel="prefetch" href="/blog/assets/js/18.9e59c1ef.js"><link rel="prefetch" href="/blog/assets/js/19.abe7feb2.js"><link rel="prefetch" href="/blog/assets/js/20.4133ae84.js"><link rel="prefetch" href="/blog/assets/js/21.28c7284d.js"><link rel="prefetch" href="/blog/assets/js/22.2cb902fc.js"><link rel="prefetch" href="/blog/assets/js/23.1d8b8783.js"><link rel="prefetch" href="/blog/assets/js/25.b6feae6a.js"><link rel="prefetch" href="/blog/assets/js/26.15268f36.js"><link rel="prefetch" href="/blog/assets/js/27.e50504b9.js"><link rel="prefetch" href="/blog/assets/js/28.6e459449.js"><link rel="prefetch" href="/blog/assets/js/29.575e182a.js"><link rel="prefetch" href="/blog/assets/js/3.25d40e75.js"><link rel="prefetch" href="/blog/assets/js/30.09b906bb.js"><link rel="prefetch" href="/blog/assets/js/31.614f49aa.js"><link rel="prefetch" href="/blog/assets/js/32.01916c47.js"><link rel="prefetch" href="/blog/assets/js/33.60afe153.js"><link rel="prefetch" href="/blog/assets/js/34.fe38c378.js"><link rel="prefetch" href="/blog/assets/js/35.753fd3bb.js"><link rel="prefetch" href="/blog/assets/js/36.95e4a317.js"><link rel="prefetch" href="/blog/assets/js/37.0c810791.js"><link rel="prefetch" href="/blog/assets/js/38.7a384aa3.js"><link rel="prefetch" href="/blog/assets/js/39.13163e35.js"><link rel="prefetch" href="/blog/assets/js/40.5765271a.js"><link rel="prefetch" href="/blog/assets/js/41.c6dbf392.js"><link rel="prefetch" href="/blog/assets/js/42.91e813ba.js"><link rel="prefetch" href="/blog/assets/js/43.6376ff7e.js"><link rel="prefetch" href="/blog/assets/js/44.6820546f.js"><link rel="prefetch" href="/blog/assets/js/45.b3a3883f.js"><link rel="prefetch" href="/blog/assets/js/46.9c82af46.js"><link rel="prefetch" href="/blog/assets/js/47.73e25062.js"><link rel="prefetch" href="/blog/assets/js/48.e1798374.js"><link rel="prefetch" href="/blog/assets/js/49.71fa8240.js"><link rel="prefetch" href="/blog/assets/js/5.e7815cdd.js"><link rel="prefetch" href="/blog/assets/js/50.f2b22a8d.js"><link rel="prefetch" href="/blog/assets/js/51.d0dbf841.js"><link rel="prefetch" href="/blog/assets/js/52.1eace587.js"><link rel="prefetch" href="/blog/assets/js/53.8748edb6.js"><link rel="prefetch" href="/blog/assets/js/54.afb5d894.js"><link rel="prefetch" href="/blog/assets/js/55.44867631.js"><link rel="prefetch" href="/blog/assets/js/56.2c8cb6f2.js"><link rel="prefetch" href="/blog/assets/js/57.59bb6d4b.js"><link rel="prefetch" href="/blog/assets/js/58.7348b44e.js"><link rel="prefetch" href="/blog/assets/js/59.c97550a4.js"><link rel="prefetch" href="/blog/assets/js/6.ec4b49eb.js"><link rel="prefetch" href="/blog/assets/js/60.3560be9e.js"><link rel="prefetch" href="/blog/assets/js/61.526e2e80.js"><link rel="prefetch" href="/blog/assets/js/62.9b2add52.js"><link rel="prefetch" href="/blog/assets/js/63.3a596d76.js"><link rel="prefetch" href="/blog/assets/js/64.f6f0218b.js"><link rel="prefetch" href="/blog/assets/js/65.400ec059.js"><link rel="prefetch" href="/blog/assets/js/66.aa5a020c.js"><link rel="prefetch" href="/blog/assets/js/67.72fd7564.js"><link rel="prefetch" href="/blog/assets/js/68.43296045.js"><link rel="prefetch" href="/blog/assets/js/69.f062d617.js"><link rel="prefetch" href="/blog/assets/js/7.9c595647.js"><link rel="prefetch" href="/blog/assets/js/70.cca521a9.js"><link rel="prefetch" href="/blog/assets/js/71.310cf1a3.js"><link rel="prefetch" href="/blog/assets/js/72.3fa3c700.js"><link rel="prefetch" href="/blog/assets/js/73.5c8ac80b.js"><link rel="prefetch" href="/blog/assets/js/74.571a5a81.js"><link rel="prefetch" href="/blog/assets/js/75.1cdf9c31.js"><link rel="prefetch" href="/blog/assets/js/76.8db9741a.js"><link rel="prefetch" href="/blog/assets/js/77.849eccbe.js"><link rel="prefetch" href="/blog/assets/js/78.ff4ee1a0.js"><link rel="prefetch" href="/blog/assets/js/79.2b117068.js"><link rel="prefetch" href="/blog/assets/js/8.0d248455.js"><link rel="prefetch" href="/blog/assets/js/80.e70c425c.js"><link rel="prefetch" href="/blog/assets/js/81.f4ca5975.js"><link rel="prefetch" href="/blog/assets/js/82.f4885b0b.js"><link rel="prefetch" href="/blog/assets/js/83.6d1bebc4.js"><link rel="prefetch" href="/blog/assets/js/84.d215f359.js"><link rel="prefetch" href="/blog/assets/js/85.984e348f.js"><link rel="prefetch" href="/blog/assets/js/86.6d06f102.js"><link rel="prefetch" href="/blog/assets/js/87.17724b24.js"><link rel="prefetch" href="/blog/assets/js/88.8d9d4fc2.js"><link rel="prefetch" href="/blog/assets/js/89.d3ee79d2.js"><link rel="prefetch" href="/blog/assets/js/9.53f6c3bd.js"><link rel="prefetch" href="/blog/assets/js/90.11bbd96a.js"><link rel="prefetch" href="/blog/assets/js/91.636ea7d5.js"><link rel="prefetch" href="/blog/assets/js/92.c3cd1516.js"><link rel="prefetch" href="/blog/assets/js/93.18ea5c72.js"><link rel="prefetch" href="/blog/assets/js/94.80f0ed34.js"><link rel="prefetch" href="/blog/assets/js/95.ae3aabc3.js"><link rel="prefetch" href="/blog/assets/js/96.2c8c4fc6.js"><link rel="prefetch" href="/blog/assets/js/97.e4bd33b0.js"><link rel="prefetch" href="/blog/assets/js/98.cead715c.js"><link rel="prefetch" href="/blog/assets/js/99.8577644c.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.27cf9bcb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>奇思妙想</h3> <p class="description" data-v-59e6cb88>随心记</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2024
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/avator.jpg" alt="奇思妙想" class="logo"> <span class="site-name">奇思妙想</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/面试/" class="nav-link"><i class="undefined"></i>
  面试
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/工具/" class="nav-link"><i class="undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/八股文速记/" class="nav-link"><i class="undefined"></i>
  八股文速记
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/虾皮/" class="nav-link"><i class="undefined"></i>
  虾皮
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/blog/avator.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>100</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>5</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/categories/面试/" class="nav-link"><i class="undefined"></i>
  面试
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/vue/" class="nav-link"><i class="undefined"></i>
  vue
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/工具/" class="nav-link"><i class="undefined"></i>
  工具
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/八股文速记/" class="nav-link"><i class="undefined"></i>
  八股文速记
</a></li><li class="dropdown-item"><!----> <a href="/blog/categories/虾皮/" class="nav-link"><i class="undefined"></i>
  虾皮
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/blog/pages/css%E5%B8%B8%E8%A7%81%E9%9A%BE%E7%82%B9%E8%80%83%E7%82%B9/1.%E9%98%B2%E6%AD%A2%E9%AB%98%E5%BA%A6%E5%9D%8D%E5%A1%8C" class="sidebar-heading clickable"><span>css常见难点考点</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/css常见难点考点/1.防止高度坍塌.html" class="sidebar-link">1.防止高度坍塌</a></li><li><a href="/blog/pages/css常见难点考点/2.BFC专题.html" class="sidebar-link">2.BFC专题</a></li><li><a href="/blog/pages/css常见难点考点/3.文字溢出省略号.html" class="sidebar-link">3.文字溢出省略号</a></li><li><a href="/blog/pages/css常见难点考点/4.css变量.html" class="sidebar-link">4.css变量</a></li><li><a href="/blog/pages/css常见难点考点/5.css伪类三角形.html" class="sidebar-link">5.css伪类三角形</a></li><li><a href="/blog/pages/css常见难点考点/6.媒体查询.html" class="sidebar-link">6.媒体查询</a></li><li><a href="/blog/pages/css常见难点考点/7.渐变.html" class="sidebar-link">7.渐变</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/git%E4%BD%BF%E7%94%A8%E6%80%BB%E7%BB%93/%E5%A4%87%E5%BF%98git%E6%80%BB%E7%BB%93" class="sidebar-heading clickable"><span>git使用总结</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/git使用总结/备忘git总结.html" class="sidebar-link">备忘git总结</a></li><li><a href="/blog/pages/git使用总结/工作常用git注意事项.html" class="sidebar-link">工作常用git注意事项</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF%E6%A0%88/TypeScript%E6%9E%81%E9%80%9F%E6%A2%B3%E7%90%86" class="sidebar-heading clickable"><span>前端技术栈</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/前端技术栈/TypeScript极速梳理.html" class="sidebar-link">TypeScript极速梳理</a></li><li><a href="/blog/pages/前端技术栈/Vue3快速上手.html" class="sidebar-link">Vue3快速上手</a></li><li><a href="/blog/pages/前端技术栈/vue深入理解.html" class="sidebar-link">vue深入理解</a></li><li><a href="/blog/pages/前端技术栈/webpack.html" class="sidebar-link">webpack</a></li><li><a href="/blog/pages/前端技术栈/脚手架那些事.html" class="sidebar-link">脚手架那些事</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E5%B0%8F%E7%A8%8B%E5%BA%8F/event-store%E6%95%B0%E6%8D%AE%E5%85%B1%E4%BA%AB%E8%BD%BB%E9%87%8F%E5%BA%93" class="sidebar-heading clickable"><span>小程序</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/小程序/event-store数据共享轻量库.html" class="sidebar-link">event-store数据共享轻量库</a></li><li><a href="/blog/pages/小程序/event-store结合项目的解说.html" class="sidebar-link">event-store结合项目的解说</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E5%B7%A5%E4%BD%9C%E5%BF%85%E5%A4%87%E5%88%A9%E5%99%A8/%E5%89%8D%E7%AB%AF%E8%B0%83%E8%AF%95%E5%88%A9%E5%99%A8whistle" class="sidebar-heading clickable"><span>工作必备利器</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/工作必备利器/前端调试利器whistle.html" class="sidebar-link">前端调试利器whistle</a></li><li><a href="/blog/pages/工作必备利器/工具.html" class="sidebar-link">工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E5%B7%A5%E4%BD%9C%E6%80%9D%E8%80%83/%E5%A4%8D%E7%9B%98%E5%88%86%E6%9E%90" class="sidebar-heading clickable"><span>工作思考</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/工作思考/复盘分析.html" class="sidebar-link">复盘分析</a></li><li><a href="/blog/pages/工作思考/如何提升客户使用质量.html" class="sidebar-link">如何提升客户使用质量</a></li><li><a href="/blog/pages/工作思考/客户成功.html" class="sidebar-link">客户成功</a></li><li><a href="/blog/pages/工作思考/降本增效.html" class="sidebar-link">降本增效</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E5%B7%A5%E4%BD%9C%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/0.%E4%BB%A3%E7%A0%81%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83" class="sidebar-heading clickable"><span>工作问题总结</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/工作问题总结/0.代码提交规范.html" class="sidebar-link">0.代码提交规范</a></li><li><a href="/blog/pages/工作问题总结/1.说说filter这个css属性.html" class="sidebar-link">1.说说filter这个css属性</a></li><li><a href="/blog/pages/工作问题总结/2.table数据更新却不渲染.html" class="sidebar-link">2.table数据更新却不渲染</a></li><li><a href="/blog/pages/工作问题总结/4.IE兼容那些事.html" class="sidebar-link">4.IE兼容那些事</a></li><li><a href="/blog/pages/工作问题总结/5.关于使用border-image后,border-radius无效的问题.html" class="sidebar-link">5.关于使用border-image后,border-radius无效的问题</a></li><li><a href="/blog/pages/工作问题总结/6.可拖拽滑动的进度条.html" class="sidebar-link">6.可拖拽滑动的进度条</a></li><li><a href="/blog/pages/工作问题总结/7.页面停留时间+滚动百分比+滑动次数.html" class="sidebar-link">7.页面停留时间+滚动百分比+滑动次数</a></li><li><a href="/blog/pages/工作问题总结/8.JavaScript 常用工具方法.html" class="sidebar-link">8.JavaScript 常用工具方法</a></li><li><a href="/blog/pages/工作问题总结/9.对象数组去重.html" class="sidebar-link">9.对象数组去重</a></li><li><a href="/blog/pages/工作问题总结/10.文件流导出.html" class="sidebar-link">10.文件流导出</a></li><li><a href="/blog/pages/工作问题总结/11.防抖&amp;节流可直接挂指令上.html" class="sidebar-link">11.防抖&amp;节流可直接挂指令上</a></li><li><a href="/blog/pages/工作问题总结/12.关于try-catch.html" class="sidebar-link">12.关于try-catch</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E5%B8%B8%E8%A7%81%E6%8E%92%E5%BA%8F/%E7%BB%8F%E5%85%B8%E6%8E%92%E5%BA%8F" class="sidebar-heading clickable"><span>常见排序</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/常见排序/经典排序.html" class="sidebar-link">经典排序</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/0.%E5%85%B3%E4%BA%8E%E7%99%BB%E5%BD%95%E6%80%81" class="sidebar-heading clickable open"><span>掘金收藏</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/掘金收藏/0.关于登录态.html" class="sidebar-link">0.关于登录态</a></li><li><a href="/blog/pages/掘金收藏/1.ms包熟.html" class="active sidebar-link">1.ms包熟</a></li><li><a href="/blog/pages/掘金收藏/2.vue.html" class="sidebar-link">2.vue</a></li><li><a href="/blog/pages/掘金收藏/3.http协议.html" class="sidebar-link">3.http协议</a></li><li><a href="/blog/pages/掘金收藏/4.40道ES6 Promise实战练习题，助你快速理解Promise.html" class="sidebar-link">4.40道ES6 Promise实战练习题，助你快速理解Promise</a></li><li><a href="/blog/pages/掘金收藏/5.从浏览器地址栏输入 url 到请求返回发生了什么.html" class="sidebar-link">5.从浏览器地址栏输入 url 到请求返回发生了什么</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E7%AE%97%E6%B3%95/0.%E9%AB%98%E9%A2%91100%E9%81%93%E9%A2%98" class="sidebar-heading clickable"><span>算法</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/算法/0.高频100道题.html" class="sidebar-link">0.高频100道题</a></li><li><a href="/blog/pages/算法/3.最长回文子串.html" class="sidebar-link">3.最长回文子串</a></li><li><a href="/blog/pages/算法/5.删除排序链表中的重复元素.html" class="sidebar-link">5.删除排序链表中的重复元素</a></li><li><a href="/blog/pages/算法/6.字符串相加.html" class="sidebar-link">6.字符串相加</a></li><li><a href="/blog/pages/算法/7.最多可以参加的会议数目.html" class="sidebar-link">7.最多可以参加的会议数目</a></li><li><a href="/blog/pages/算法/8.用最少数量的箭引爆气球.html" class="sidebar-link">8.用最少数量的箭引爆气球</a></li><li><a href="/blog/pages/算法/9.旋转链表.html" class="sidebar-link">9.旋转链表</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/blog/pages/%E7%AE%97%E6%B3%95/%E4%BA%8C%E5%8F%89%E6%A0%91/%E5%AE%9E%E8%B7%B5" class="sidebar-heading clickable"><span>二叉树</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/算法/二叉树/实践.html" class="sidebar-link">实践</a></li><li><a href="/blog/pages/算法/二叉树/框架解释.html" class="sidebar-link">框架解释</a></li></ul></section></li><li><a href="/blog/pages/算法/大厂算法刷题.html" class="sidebar-link">大厂算法刷题</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/blog/pages/%E7%AE%97%E6%B3%95/%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/%E6%A8%A1%E6%9D%BF" class="sidebar-heading clickable"><span>滑动窗口</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/算法/滑动窗口/模板.html" class="sidebar-link">模板</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/blog/pages/%E7%AE%97%E6%B3%95/%E9%93%BE%E8%A1%A8/19.%20%E5%88%A0%E9%99%A4%E9%93%BE%E8%A1%A8%E7%9A%84%E5%80%92%E6%95%B0%E7%AC%AC%20N%20%E4%B8%AA%E7%BB%93%E7%82%B9" class="sidebar-heading clickable"><span>链表</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/算法/链表/19. 删除链表的倒数第 N 个结点.html" class="sidebar-link">19. 删除链表的倒数第 N 个结点</a></li><li><a href="/blog/pages/算法/链表/21. 合并两个有序链表.html" class="sidebar-link">21. 合并两个有序链表</a></li><li><a href="/blog/pages/算法/链表/82.分隔链表.html" class="sidebar-link">82.分隔链表</a></li><li><a href="/blog/pages/算法/链表/82.删除排序链表中的重复元素 II.html" class="sidebar-link">82.删除排序链表中的重复元素 II</a></li><li><a href="/blog/pages/算法/链表/83.删除排序链表中的重复元素.html" class="sidebar-link">83.删除排序链表中的重复元素</a></li><li><a href="/blog/pages/算法/链表/92.反转链表II.html" class="sidebar-link">92.反转链表II</a></li><li><a href="/blog/pages/算法/链表/141. 环形链表.html" class="sidebar-link">141. 环形链表</a></li><li><a href="/blog/pages/算法/链表/142. 环形链表 II.html" class="sidebar-link">142. 环形链表 II</a></li><li><a href="/blog/pages/算法/链表/160. 相交链表.html" class="sidebar-link">160. 相交链表</a></li><li><a href="/blog/pages/算法/链表/206. 反转链表.html" class="sidebar-link">206. 反转链表</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E9%80%9A%E7%94%A8%E7%AE%80%E5%8E%86/common" class="sidebar-heading clickable"><span>通用简历</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/通用简历/common.html" class="sidebar-link">common</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E9%80%9F%E8%AE%B0%E5%8C%BA/0.resume" class="sidebar-heading clickable"><span>速记区</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/速记区/0.resume.html" class="sidebar-link">0.resume</a></li><li><a href="/blog/pages/速记区/1.浏览器网络篇.html" class="sidebar-link">1.浏览器网络篇</a></li><li><a href="/blog/pages/速记区/2.CSS篇.html" class="sidebar-link">2.CSS篇</a></li><li><a href="/blog/pages/速记区/3.HTML篇.html" class="sidebar-link">3.HTML篇</a></li><li><a href="/blog/pages/速记区/4.JS篇上.html" class="sidebar-link">4.JS篇上</a></li><li><a href="/blog/pages/速记区/5.JS篇下.html" class="sidebar-link">5.JS篇下</a></li><li><a href="/blog/pages/速记区/6.代码篇.html" class="sidebar-link">6.代码篇</a></li><li><a href="/blog/pages/速记区/7.VUE上.html" class="sidebar-link">7.VUE上</a></li><li><a href="/blog/pages/速记区/8.VUE下.html" class="sidebar-link">8.VUE下</a></li><li><a href="/blog/pages/速记区/9.VUE3+TS.html" class="sidebar-link">9.VUE3+TS</a></li><li><a href="/blog/pages/速记区/10.node+webpack+性能优化.html" class="sidebar-link">10.node+webpack+性能优化</a></li><li><a href="/blog/pages/速记区/11.小程序+git.html" class="sidebar-link">11.小程序+git</a></li><li><a href="/blog/pages/速记区/12.大前端.html" class="sidebar-link">12.大前端</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/blog/pages/%E9%A1%B9%E7%9B%AE%E9%9A%BE%E7%82%B9%E4%BA%AE%E7%82%B9/1.%E5%89%8D%E7%AB%AF%E5%AF%BC%E5%87%BAExcel%E6%96%87%E4%BB%B6%E8%BF%87%E4%BA%8E%E5%BA%9E%E5%A4%A7%E6%80%8E%E4%B9%88%E5%A4%84%E7%90%86" class="sidebar-heading clickable"><span>项目难点亮点</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/pages/项目难点亮点/1.前端导出Excel文件过于庞大怎么处理.html" class="sidebar-link">1.前端导出Excel文件过于庞大怎么处理</a></li><li><a href="/blog/pages/项目难点亮点/2.表单的批量校验.html" class="sidebar-link">2.表单的批量校验</a></li><li><a href="/blog/pages/项目难点亮点/3.前端项目线上出现紧急的bug怎么处理.html" class="sidebar-link">3.前端项目线上出现紧急的bug怎么处理</a></li><li><a href="/blog/pages/项目难点亮点/4.vue刷新当前页面.html" class="sidebar-link">4.vue刷新当前页面</a></li><li><a href="/blog/pages/项目难点亮点/5.vue页面缓存控制.html" class="sidebar-link">5.vue页面缓存控制</a></li><li><a href="/blog/pages/项目难点亮点/6.vue阻止重复请求.html" class="sidebar-link">6.vue阻止重复请求</a></li><li><a href="/blog/pages/项目难点亮点/7.vue表格列拖拽.html" class="sidebar-link">7.vue表格列拖拽</a></li><li><a href="/blog/pages/项目难点亮点/8.动态显示提示语.html" class="sidebar-link">8.动态显示提示语</a></li><li><a href="/blog/pages/项目难点亮点/9.宽度不确定的文本省略号.html" class="sidebar-link">9.宽度不确定的文本省略号</a></li><li><a href="/blog/pages/项目难点亮点/10.SSE和websocket.html" class="sidebar-link">10.SSE和websocket</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2024
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">前言</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>以前我在掘金上看到面试贴就直接刷掉的，从不会多看一眼，直到去年 9 月份我开始准备面试时，才发现很多面试经验贴特别有用，看这些帖子（我不敢称之为文章，怕被杠）的过程中对我的复习思维形成影响很大，所以我现在把之前自己好好整理的面试计划分享出来，希望能帮到接下来要找工作的朋友，不喜勿喷哈～</p> <blockquote><p>这是我的 <a href="https://github.com/vortesnail/blog" title="https://github.com/vortesnail/blog" target="_blank" rel="noopener noreferrer">github/blog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，有帮助的话点个 star🌟 噢～谢啦～</p></blockquote> <h2 id="一、简历"><a href="#一、简历" class="header-anchor">#</a> 一、简历</h2> <p>简历在找工作过程中是非常非常重要的，无论你是什么途径去面试的，面试你的人一定会看你的简历。</p> <p>推荐阅读：
<a href="https://mp.weixin.qq.com/s/py_HLqOjNdL4l0CZHjMwqw" title="https://mp.weixin.qq.com/s/py_HLqOjNdL4l0CZHjMwqw" target="_blank" rel="noopener noreferrer">如何写「前端简历」，能敲开字节跳动的大门？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.zhihu.com/question/23150301/answer/1229870117" title="https://www.zhihu.com/question/23150301/answer/1229870117" target="_blank" rel="noopener noreferrer">一份优秀的前端开发工程师简历是怎么样的？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_1、重点"><a href="#_1、重点" class="header-anchor">#</a> 1、重点</h3> <ul><li>简历就像高考作文——阅卷时间非常短。</li> <li>内容要简洁。</li> <li>直击重点，表现出自己的优势（只要是符合招人单位要求的都是优势，不是别人不会的你会才叫优势）。</li></ul> <h3 id="_2、简历包含的内容"><a href="#_2、简历包含的内容" class="header-anchor">#</a> 2、简历包含的内容</h3> <ul><li>个人信息。</li> <li>专业技能。</li> <li>工作经历。</li> <li>项目经历。</li> <li>社区贡献。</li></ul> <h4 id="_2-1-基本信息"><a href="#_2-1-基本信息" class="header-anchor">#</a> 2.1 基本信息</h4> <ul><li>必备：姓名 电话 邮箱。</li> <li>年龄（最好写上，在这个行业年龄还是比较重要的），学历（写好是哪一届）。</li> <li>头像无所谓（好看就放上呗）。</li> <li>可以放 github 链接，前提是有内容。</li></ul> <h4 id="_2-2-专业技能"><a href="#_2-2-专业技能" class="header-anchor">#</a> 2.2 专业技能</h4> <ul><li>表现出自己的核心竞争力（只要是符合招人单位要求的都是优势）。</li> <li>内容不要太多，3、5 条即可。</li> <li>太基础的不要写，例如会用 vscode、lodash。</li></ul> <h4 id="_2-3-工作经历"><a href="#_2-3-工作经历" class="header-anchor">#</a> 2.3 工作经历</h4> <ul><li>如实写。</li> <li>写明公司，职位，入职离职时间即可，多写无益。</li> <li>如果有空窗期，如实写明即可。</li></ul> <h4 id="_2-4-项目经历"><a href="#_2-4-项目经历" class="header-anchor">#</a> 2.4 项目经历</h4> <ul><li>写 2-4 个具有说服力的项目（不要什么项目都写，没用）。</li> <li>项目名称，项目描述，技术栈，个人角色。</li></ul> <h4 id="_2-5-社区贡献"><a href="#_2-5-社区贡献" class="header-anchor">#</a> 2.5 社区贡献</h4> <ul><li>有博客或者开源作品，会让你更有竞争力。</li> <li>切记：需要真的有内容，不可临时抱佛脚。</li></ul> <h3 id="_3、注意事项"><a href="#_3、注意事项" class="header-anchor">#</a> 3、注意事项</h3> <ul><li>界面不能太花哨，简洁明了即可。</li> <li>注意用词，“精通”“熟练”等慎用，可用“熟悉”。</li> <li>不可造假，会被拉入黑名单。</li></ul> <h3 id="_4、面试前准备"><a href="#_4、面试前准备" class="header-anchor">#</a> 4、面试前准备</h3> <ul><li>看 JD，是否需要临时准备一下。</li> <li>打印纸质简历，带着纸和笔（增加好印象）。</li> <li>最好带着自己电脑，现场可能手写代码（带一个帆布包最适合，又优雅又方便）。</li> <li>要有时间观念，如果迟到或者推迟，要提前说。</li> <li>衣着适当，不用正装，也不要太随意。</li> <li>为何离职？—— 不要吐槽前东家，说自己的原因（想找一个更好的发展平台等）。</li> <li>能加班吗？—— 能！除非你特别自信，能找到其他机会。</li> <li>不要挑战面试官，即便他错了（面试一定要保证愉快）。</li> <li>遇到不会的问题，要表现出自己积极的一面（不好意思哈，确实是我的知识盲区，可以跟我说下 xxx 吗，我回去研究一下）。</li></ul> <h2 id="二、html-css-面试题"><a href="#二、html-css-面试题" class="header-anchor">#</a> 二、HTML+CSS 面试题</h2> <p>HTML 和 CSS 面试题答不出来基本可以回去了。</p> <h3 id="_1、html-面试题"><a href="#_1、html-面试题" class="header-anchor">#</a> 1、HTML 面试题</h3> <p>以下是针对 HTML 相关的面试题，一般来说这地方不会出太多题，面试官也不愿意花太多时间在这上面。</p> <h4 id="_1-1-如何理解-html-语义化"><a href="#_1-1-如何理解-html-语义化" class="header-anchor">#</a> 1.1 如何理解 HTML 语义化？</h4> <ul><li>让人更容易读懂（增加代码可读性）。</li> <li>让搜索引擎更容易读懂，有助于爬虫抓取更多的有效信息，爬虫依赖于标签来确定上下文和各个关键字的权重（SEO）。</li> <li>在没有 CSS 样式下，页面也能呈现出很好地内容结构、代码结构。</li></ul> <h4 id="_1-2-script-标签中-defer-和-async-的区别"><a href="#_1-2-script-标签中-defer-和-async-的区别" class="header-anchor">#</a> 1.2 script 标签中 defer 和 async 的区别？</h4> <ul><li><code>script</code> ：会阻碍 HTML 解析，只有下载好并执行完脚本才会继续解析 HTML。</li> <li><code>async script</code> ：解析 HTML 过程中进行脚本的异步下载，下载成功立马执行，有可能会阻断 HTML 的解析。</li> <li><code>defer script</code>：完全不会阻碍 HTML 的解析，解析完成之后再按照顺序执行脚本。</li></ul> <p>下图清晰地展示了三种 <code>script</code> 的过程：
<img src="/blog/assets/img/sync.077c1342.png" alt="avatar"></p> <blockquote><p>推荐文章：</p> <ul><li><a href="https://juejin.cn/post/6894629999215640583" title="https://juejin.cn/post/6894629999215640583" target="_blank" rel="noopener noreferrer">图解 script 标签中的 async 和 defer 属性<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></blockquote> <h4 id="_1-3-从浏览器地址栏输入-url-到请求返回发生了什么"><a href="#_1-3-从浏览器地址栏输入-url-到请求返回发生了什么" class="header-anchor">#</a> 1.3 从浏览器地址栏输入 url 到请求返回发生了什么</h4> <p>先阅读这篇科普性质的：<a href="https://juejin.cn/post/6844903784229896199" title="https://juejin.cn/post/6844903784229896199" target="_blank" rel="noopener noreferrer">从 URL 输入到页面展现到底发生什么？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 先阅读篇文章：<a href="https://juejin.cn/post/6935232082482298911" title="https://juejin.cn/post/6935232082482298911" target="_blank" rel="noopener noreferrer">从输入 URL 开始建立前端知识体系<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <ol><li>输入 URL 后解析出协议、主机、端口、路径等信息，并构造一个 HTTP 请求。</li></ol> <ul><li>强缓存。</li> <li>协商缓存。</li></ul> <ol start="2"><li><p>DNS 域名解析。（<a href="https://juejin.cn/post/6990344840181940261" title="https://juejin.cn/post/6990344840181940261" target="_blank" rel="noopener noreferrer">字节面试被虐后，是时候搞懂 DNS 了<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</p></li> <li><p>TCP 连接。</p> <blockquote><p>总是要问：为什么需要三次握手，两次不行吗？其实这是由 TCP 的自身特点<strong>可靠传输</strong>决定的。客户端和服务端要进行可靠传输，那么就需要<strong>确认双方的接收和发送能力</strong>。第一次握手可以确认客服端的<strong>发送能力</strong>，第二次握手，确认了服务端的<strong>发送能力和接收能力</strong>，所以第三次握手才可以确认客户端的<strong>接收能力</strong>。不然容易出现丢包的现象。</p></blockquote></li> <li><p>http 请求。</p></li> <li><p>服务器处理请求并返回 HTTP 报文。</p></li> <li><p>浏览器渲染页面。</p></li></ol> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/77972f24d69243bb93679f155f305095~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="image.png"></p> <ol start="7"><li>断开 TCP 连接。</li></ol> <h3 id="_2、css-面试题"><a href="#_2、css-面试题" class="header-anchor">#</a> 2、CSS 面试题</h3> <p>以下是针对 CSS 相关的面试题，这些题答不出来会给人非常不好的技术印象。</p> <h4 id="_2-1-盒模型介绍"><a href="#_2-1-盒模型介绍" class="header-anchor">#</a> 2.1 盒模型介绍</h4> <p>CSS3 中的盒模型有以下两种：<strong>标准盒模型</strong>、<strong>IE（替代）盒模型</strong>。</p> <p>两种盒子模型都是由 <code>content + padding + border + margin</code> 构成，其大小都是由 <code>content + padding + border</code> 决定的，但是盒子内容宽/高度（即 <code>width/height</code>）的计算范围根据盒模型的不同会有所不同：</p> <ul><li>标准盒模型：只包含 <code>content</code> 。</li> <li>IE（替代）盒模型：<code>content + padding + border</code> 。</li></ul> <p>可以通过 <code>box-sizing</code> 来改变元素的盒模型：</p> <ul><li><code>box-sizing: content-box</code> ：标准盒模型（默认值）。</li> <li><code>box-sizing: border-box</code> ：IE（替代）盒模型。</li></ul> <h4 id="_2-2-css-选择器和优先级"><a href="#_2-2-css-选择器和优先级" class="header-anchor">#</a> 2.2 css 选择器和优先级</h4> <p>首先我们要知道有哪些选择器：<a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/Selectors#%E9%80%89%E6%8B%A9%E5%99%A8%E5%8F%82%E8%80%83%E8%A1%A8" title="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/Building_blocks/Selectors#%E9%80%89%E6%8B%A9%E5%99%A8%E5%8F%82%E8%80%83%E8%A1%A8" target="_blank" rel="noopener noreferrer">选择器参考表<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>常规来说，大家都知道样式的优先级一般为 <code>!important &gt; style &gt; id &gt; class</code> ，但是涉及多类选择器作用于同一个元素时候怎么判断优先级呢？相信我，你在改一些第三方库（比如 antd 😂）样式时，理解这个会帮助很大！</p> <p>这篇文章写的非常清晰易懂，强烈推荐，看完之后就没啥问题了：<a href="https://juejin.cn/post/6844903709772611592" title="https://juejin.cn/post/6844903709772611592" target="_blank" rel="noopener noreferrer">深入理解 CSS 选择器优先级<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <blockquote><p>上述文章中核心内容： 优先级是由 A 、B、C、D 的值来决定的，其中它们的值计算规则如下：</p> <ul><li>如果存在内联样式，那么 <code>A = 1</code>，否则 <code>A = 0</code> ；</li> <li>B 的值等于 <code>ID选择器（#id）</code> 出现的次数；</li> <li>C 的值等于 <code>类选择器（.class）</code> 和 <code>属性选择器（a[href=&quot;https://example.org&quot;]）</code> 和 <code>伪类（:first-child）</code> 出现的总次数；</li> <li>D 的值等于 <code>标签选择器（h1,a,div）</code> 和 <code>伪元素（::before,::after）</code> 出现的总次数。</li></ul></blockquote> <blockquote><p>从左至右比较，如果是样式优先级相等，取后面出现的样式。</p></blockquote> <h4 id="_2-3-重排-reflow-和重绘-repaint-的理解"><a href="#_2-3-重排-reflow-和重绘-repaint-的理解" class="header-anchor">#</a> 2.3 重排（reflow）和重绘（repaint）的理解</h4> <p>简单地总结下两者的概念：</p> <ul><li>重排：无论通过什么方式影响了元素的<strong>几何信息</strong>(元素在视口内的位置和尺寸大小)，浏览器需要<strong>重新计算</strong>元素在视口内的几何属性，这个过程叫做重排。</li> <li>重绘：通过构造渲染树和重排（回流）阶段，我们知道了哪些节点是可见的，以及可见节点的样式和具体的几何信息(元素在视口内的位置和尺寸大小)，接下来就可以将渲染树的每个节点都转换为屏幕上的<strong>实际像素</strong>，这个阶段就叫做重绘。</li></ul> <p>如何减少重排和重绘？</p> <ul><li><strong>最小化重绘和重排</strong>，比如样式集中改变，使用添加新样式类名 <code>.class</code> 或 <code>cssText</code> 。</li> <li><strong>批量操作 DOM</strong>，比如读取某元素 <code>offsetWidth</code> 属性存到一个临时变量，再去使用，而不是频繁使用这个计算属性；又比如利用 <code>document.createDocumentFragment()</code> 来添加要被添加的节点，处理完之后再插入到实际 DOM 中。</li> <li><strong>使用 <strong><code>**absolute**</code></strong> 或 <strong><code>**fixed**</code></strong> 使元素脱离文档流</strong>，这在制作复杂的动画时对性能的影响比较明显。</li> <li><strong>开启 GPU 加速</strong>，利用 css 属性 <code>transform</code> 、<code>will-change</code> 等，比如改变元素位置，我们使用 <code>translate</code> 会比使用绝对定位改变其 <code>left</code> 、<code>top</code> 等来的高效，因为它不会触发重排或重绘，<code>transform</code> 使浏览器为元素创建⼀个 GPU 图层，这使得动画元素在一个独立的层中进行渲染。当元素的内容没有发生改变，就没有必要进行重绘。</li></ul> <p>这里推荐<strong>腾讯 IVWEB 团队</strong>的这篇文章：<a href="https://juejin.cn/post/6844903779700047885" title="https://juejin.cn/post/6844903779700047885" target="_blank" rel="noopener noreferrer">你真的了解回流和重绘吗<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，好好认真看完，面试应该没问题的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>
课堂笔记：
<span class="token number">1.</span> 渲染过程：<span class="token constant">DOM</span>树（<span class="token constant">HTML</span>）<span class="token operator">&amp;</span> <span class="token constant">CSSOM</span> （<span class="token constant">CSS</span>） 结合生成渲染树；回流（Layout）得到节点的几何信息（大小和位置）；重绘（Painting）得到节点的绝对像素，将渲染树的每个节点都转换为屏幕上的实际像素；展示。
<span class="token number">2.</span> 渲染树只包含可见节点， 一些不会渲染输出的节点，比如 script、meta、link 等 和 设置 display<span class="token operator">:</span>none 的节点不会出现在渲染树中。但是利用 visibility 和 opacity 隐藏的节点会显示在渲染树上。
<span class="token number">3.</span> 当页面布局和几何信息发生变化的时候，就需要回流。如新增 <span class="token constant">DOM</span>，元素尺寸变化，窗口大小变化等。回流一定会触发重绘，而重绘不一定会回流。
<span class="token number">4.</span> 大多数浏览器都会通过队列化修改并批量执行来优化重排过程。当你获取布局信息的操作的时候，会强制队列刷新。
<span class="token number">5.</span> 减少回流和重绘：
<span class="token operator">-</span> <span class="token number">1</span>）修改样式的时候通过 css 类名修改或通过 cssText 修改。
<span class="token operator">-</span> <span class="token number">2</span>）<span class="token constant">DOM</span> 元素离线修改—<span class="token operator">&gt;</span>隐藏元素，应用修改，重新显示。（浏览器本身也会有优化）
<span class="token operator">-</span> <span class="token number">3</span>）避免触发同步布局事件，如获取 offsetWidth 等属性值，因为会强制浏览器刷新队列。
<span class="token operator">-</span> <span class="token number">4</span>）使用绝对定位让复杂动画脱离文档流减少父元素以及后续元素频繁的回流。
<span class="token operator">-</span> <span class="token number">5</span>）使用css3硬件加速，可以让 transform、opacity、filters、will<span class="token operator">-</span>change 这些动画不会引起回流重绘 （会提高内存占用）。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_2-4-对-bfc-的理解"><a href="#_2-4-对-bfc-的理解" class="header-anchor">#</a> 2.4 对 BFC 的理解</h4> <p>BFC(<strong>block formatting context</strong>) 即块级格式上下文，根据盒模型可知，每个元素都被定义为一个矩形盒子，然而盒子的布局会受到<strong>尺寸，定位，盒子的子元素或兄弟元素，视口的尺寸</strong>等因素决定，所以这里有一个浏览器计算的过程，计算的规则就是由一个叫做<strong>视觉格式化模型</strong>的东西所定义的，BFC 就是来自这个概念，它是 CSS 视觉渲染的一部分，<strong>用于决定块级盒的布局及浮动相互影响范围的一个区域</strong>。</p> <p>BFC 具有一些特性：</p> <ol><li>块级元素会在垂直方向一个接一个的排列，和文档流的排列方式一致。</li> <li>在 BFC 中上下相邻的两个容器的 <code>margin</code>  会重叠，创建新的 BFC 可以避免外边距重叠。</li> <li>计算 BFC 的高度时，需要计算浮动元素的高度。</li> <li>BFC 区域不会与浮动的容器发生重叠。</li> <li>BFC 是独立的容器，容器内部元素不会影响外部元素。</li> <li>每个元素的左 <code>margin</code>  值和容器的左 <code>border</code>  相接触。</li></ol> <p>利用这些特性，我们可以解决以下问题：</p> <ul><li>利用 <code>4</code>  和 <code>6</code> ，我们可以实现三栏（或两栏）自适应布局。</li> <li>利用 <code>2</code> ，我们可以避免 <code>margin</code>  重叠问题。</li> <li>利用 <code>3</code> ，我们可以避免高度塌陷。</li></ul> <p>创建 BFC 的方式：</p> <ul><li>绝对定位元素（<code>position</code> 为 <code>absolute</code> 或 <code>fixed</code> ）。</li> <li>行内块元素，即 <code>display</code> 为 <code>inline-block</code> 。</li> <li><code>overflow</code> 的值不为 <code>visible</code> 。</li></ul> <p>推荐文章：<a href="https://juejin.cn/post/6960866014384881671" title="https://juejin.cn/post/6960866014384881671" target="_blank" rel="noopener noreferrer">可能是最好的 BFC 解析了...<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_2-5-实现两栏布局-左侧固定-右侧自适应布局"><a href="#_2-5-实现两栏布局-左侧固定-右侧自适应布局" class="header-anchor">#</a> 2.5 实现两栏布局（左侧固定 + 右侧自适应布局）</h4> <p>现在有以下 DOM 结构：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>outer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>左侧<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>右侧<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol><li>利用浮动，左边元素宽度固定 ，设置向左浮动。将右边元素的 <code>margin-left</code> 设为固定宽度 。注意，因为右边元素的 <code>width</code> 默认为 <code>auto</code> ，所以会自动撑满父元素。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.outer</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightcoral<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightseagreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol start="2"><li>同样利用浮动，左边元素宽度固定 ，设置向左浮动。右侧元素设置 <code>overflow: hidden;</code> 这样右边就触发了 <code>BFC</code> ，<code>BFC</code> 的区域不会与浮动元素发生重叠，所以两侧就不会发生重叠。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.outer</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightcoral<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightseagreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol start="3"><li>利用 <code>flex</code> 布局，左边元素固定宽度，右边的元素设置 <code>flex: 1</code> 。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.outer</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightcoral<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightseagreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol start="4"><li>利用绝对定位，父级元素设为相对定位。左边元素 <code>absolute</code>  定位，宽度固定。右边元素的 <code>margin-left</code>  的值设为左边元素的宽度值。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.outer</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightcoral<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightseagreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ol start="5"><li>利用绝对定位，父级元素设为相对定位。左边元素宽度固定，右边元素 <code>absolute</code>  定位， <code>left</code>  为宽度大小，其余方向定位为 <code>0</code> 。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.outer</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightcoral<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> lightseagreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="_2-6-实现圣杯布局和双飞翼布局-经典三分栏布局"><a href="#_2-6-实现圣杯布局和双飞翼布局-经典三分栏布局" class="header-anchor">#</a> 2.6 实现圣杯布局和双飞翼布局（经典三分栏布局）</h4> <p>圣杯布局和双飞翼布局的目的：</p> <ul><li>三栏布局，中间一栏最先加载和渲染（<strong>内容最重要，这就是为什么还需要了解这种布局的原因</strong>）。</li> <li>两侧内容固定，中间内容随着宽度自适应。</li> <li>一般用于 PC 网页。</li></ul> <p>圣杯布局和双飞翼布局的技术总结：</p> <ul><li>使用 <code>float</code>  布局。</li> <li>两侧使用 <code>margin</code> 负值，以便和中间内容横向重叠。</li> <li>防止中间内容被两侧覆盖，圣杯布局用 <code>padding</code> ，双飞翼布局用 <code>margin</code> 。</li></ul> <p><strong>圣杯布局：</strong> HTML 结构：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clearfix<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是中间<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是左边<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是右边<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>CSS 样式：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">#container</span> <span class="token punctuation">{</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">padding-right</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#container p</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.center</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightcoral<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> -200px<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightcyan<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.right</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> -150px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightgreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.clearfix:after</span> <span class="token punctuation">{</span>
  <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> table<span class="token punctuation">;</span>
  <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><strong>双飞翼布局：</strong> HTML 结构：</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>main<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>left<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>float<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>right<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>CSS 样式：</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.float</span> <span class="token punctuation">{</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#main</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightpink<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#main-wrap</span> <span class="token punctuation">{</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0 190px 0 190px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#left</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightsalmon<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">#right</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 190px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightskyblue<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -190px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>tips：上述代码中 <code>margin-left: -100%</code>  相对的是父元素的 <code>content</code>  宽度，即不包含 <code>paddig</code> 、 <code>border</code>  的宽度。</p> <p>其实以上问题需要掌握 <strong>margin 负值问题</strong> 即可很好理解。</p> <h4 id="_2-7-水平垂直居中多种实现方式"><a href="#_2-7-水平垂直居中多种实现方式" class="header-anchor">#</a> 2.7 水平垂直居中多种实现方式</h4> <ol><li>利用绝对定位，设置 <code>left: 50%</code>  和 <code>top: 50%</code>  现将子元素左上角移到父元素中心位置，然后再通过 <code>translate</code>  来调整子元素的中心点到父元素的中心。该方法可以<strong>不定宽高</strong>。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.father</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>利用绝对定位，子元素所有方向都为 <code>0</code> ，将 <code>margin</code>  设置为 <code>auto</code> ，由于宽高固定，对应方向实现平分，该方法必须<strong>盒子有宽高</strong>。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.father</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ol start="3"><li>利用绝对定位，设置 <code>left: 50%</code> 和 <code>top: 50%</code> 现将子元素左上角移到父元素中心位置，然后再通过 <code>margin-left</code>  和 <code>margin-top</code>  以子元素自己的一半宽高进行负值赋值。该方法<strong>必须定宽高</strong>。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.father</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.son</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -100px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> -100px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="4"><li>利用 <code>flex</code> ，最经典最方便的一种了，不用解释，定不定宽高无所谓的。</li></ol> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.father</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>其实还有很多方法，比如 <code>display: grid</code>  或 <code>display: table-cell</code>  来做，有兴趣点击下面这篇文章可以了解下：
<a href="https://juejin.cn/post/6844903982960214029" title="https://juejin.cn/post/6844903982960214029" target="_blank" rel="noopener noreferrer">面试官：你能实现多少种水平垂直居中的布局（定宽高和不定宽高）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h4 id="_2-8-flex-布局"><a href="#_2-8-flex-布局" class="header-anchor">#</a> 2.8 flex 布局</h4> <p>这一块内容看 <a href="https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" title="https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="noopener noreferrer">Flex 布局教程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 就够了。</p> <p>这里有个小问题，很多时候我们会用到 <code>flex: 1</code> ，它具体包含了以下的意思：</p> <ul><li><code>flex-grow: 1</code> ：该属性默认为 <code>0</code> ，如果存在剩余空间，元素也不放大。设置为 <code>1</code>  代表会放大。</li> <li><code>flex-shrink: 1</code> ：该属性默认为 <code>1</code> ，如果空间不足，元素缩小。</li> <li><code>flex-basis: 0%</code> ：该属性定义在分配多余空间之前，元素占据的主轴空间。浏览器就是根据这个属性来<strong>计算是否有多余空间</strong>的。默认值为 <code>auto</code> ，即项目本身大小。设置为 <code>0%</code>  之后，因为有 <code>flex-grow</code>  和 <code>flex-shrink</code>  的设置会自动放大或缩小。在做两栏布局时，如果右边的自适应元素 <code>flex-basis</code>  设为 <code>auto</code>  的话，其本身大小将会是 <code>0</code> 。​</li></ul> <h4 id="_2-9-line-height-如何继承"><a href="#_2-9-line-height-如何继承" class="header-anchor">#</a> 2.9 line-height 如何继承？</h4> <ul><li>父元素的 <code>line-height</code> 写了<strong>具体数值</strong>，比如 <code>30px</code>，则子元素 <code>line-height</code> 继承该值。</li> <li>父元素的 <code>line-height</code> 写了<strong>比例</strong>，比如 <code>1.5 或 2</code>，则子元素 <code>line-height</code> 也是继承该比例。</li> <li>父元素的 <code>line-height</code> 写了<strong>百分比</strong>，比如 <code>200%</code>，则子元素 <code>line-height</code> 继承的是父元素 <code>font-size * 200%</code> 计算出来的值。</li></ul> <h2 id="三、js-基础"><a href="#三、js-基础" class="header-anchor">#</a> 三、js 基础</h2> <p>js 的考察其实来回就那些东西，不过就我自己而已学习的时候理解是真的理解了，但是忘也确实会忘（大家都说理解了一定不会忘，但是要答全的话还是需要理解+背）。</p> <h3 id="_1、数据类型"><a href="#_1、数据类型" class="header-anchor">#</a> 1、数据类型</h3> <p>以下是比较重要的几个 js 变量要掌握的点。</p> <h4 id="_1-1-基本的数据类型介绍-及值类型和引用类型的理解"><a href="#_1-1-基本的数据类型介绍-及值类型和引用类型的理解" class="header-anchor">#</a> 1.1 基本的数据类型介绍，及值类型和引用类型的理解</h4> <p>在 JS 中共有 <code>8</code>  种基础的数据类型，分别为： <code>Undefined</code> 、 <code>Null</code> 、 <code>Boolean</code> 、 <code>Number</code> 、 <code>String</code> 、 <code>Object</code> 、 <code>Symbol</code> 、 <code>BigInt</code> 。</p> <p>其中 <code>Symbol</code>  和 <code>BigInt</code>  是 ES6 新增的数据类型，可能会被单独问：</p> <ul><li>Symbol 代表独一无二的值，最大的用法是用来定义对象的唯一属性名。</li> <li>BigInt 可以表示任意大小的整数。</li></ul> <p><strong>值类型的赋值变动过程如下：</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/55df6cb63d3346be9ec1f572a1514853~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="图片 1.png"> 值类型是直接存储在**栈（stack）**中的简单数据段，占据空间小、大小固定，属于被频繁使用数据，所以放入栈中存储；</p> <p><strong>引用类型的赋值变动过程如下：</strong></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span>
b<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 30</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/56c5c43d1c584ed4b8e4cce8855bab52~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="图片 2.png"> 引用类型存储在**堆（heap）**中的对象，占据空间大、大小不固定。如果存储在栈中，将会影响程序运行的性能；</p> <h4 id="_1-2-数据类型的判断"><a href="#_1-2-数据类型的判断" class="header-anchor">#</a> 1.2 数据类型的判断</h4> <ul><li><strong>typeof</strong>：能判断所有<strong>值类型，函数</strong>。不可对 <strong>null、对象、数组</strong>进行精确判断，因为都返回 <code>object</code> 。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// boolean</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token string">'str'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token number">2172141653n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bigint</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// function</span>
<span class="token comment">// 不能判别</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><strong>instanceof</strong>：能判断<strong>对象</strong>类型，不能判断基本数据类型，<strong>其内部运行机制是判断在其原型链中能否找到该类型的原型</strong>。比如考虑以下代码：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">People</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">People</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> vortesnail <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vortesnail <span class="token keyword">instanceof</span> <span class="token class-name">People</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vortesnail <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>其实现就是顺着<strong>原型链</strong>去找，如果能找到对应的 <code>Xxxxx.prototype</code>  即为 <code>true</code> 。比如这里的 <code>vortesnail</code>  作为实例，顺着原型链能找到 <code>Student.prototype</code>  及 <code>People.prototype</code> ，所以都为 <code>true</code> 。</p> <ul><li><strong>Object.prototype.toString.call()</strong>：所有原始数据类型都是能判断的，还有 <strong>Error 对象，Date 对象</strong>等。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Number]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object String]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Boolean]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Undefined]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Null]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>Math<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Math]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Object]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Array]&quot;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Function]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>在面试中有一个经常被问的问题就是：如何判断变量是否为数组？</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
arr<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span> <span class="token comment">// true</span>
arr <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;[object Array]&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_1-3-手写深拷贝-递归"><a href="#_1-3-手写深拷贝-递归" class="header-anchor">#</a> 1.3 手写深拷贝-递归</h4> <p>这个题一定要会啊！笔者面试过程中疯狂被问到！</p> <p>文章推荐：<a href="https://juejin.cn/post/6844903929705136141" title="https://juejin.cn/post/6844903929705136141" target="_blank" rel="noopener noreferrer">如何写出一个惊艳面试官的深拷贝?<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">/**
 * 深拷贝
 * @param {Object} obj 要拷贝的对象
 * @param {weekMap} weekMap 用于存储循环引用对象的地址
 */</span>
为什么不使用Map，而是WeakMap？

使用 Map 替代 WeakMap 会导致潜在的内存泄漏问题，因为 Map 对键的引用是强引用。而 WeakMap 使用的是弱引用，可以避免因为该引用而阻止垃圾回收器对对象的回收。
在深拷贝的场景中，当你使用 Map 时，因为 Map 对键的引用是强引用，可能会导致整个拷贝的对象及其子对象都无法被垃圾回收。而使用 WeakMap 时，当不再存在对原对象的引用时，对应的键值对就可以被垃圾回收，不会造成内存泄漏。


<span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WeekMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 如果obj为null，或者obj不是对象或数组，则直接返回</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
   <span class="token comment">// 如果已经克隆过，则直接返回,跳过重新克隆的过程</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 初始化返回结果-数组还是普通的对象</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 存储映射关系</span>
  map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 只拷贝实例上的属性</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 递归调用</span>
      result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 返回结果</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h4 id="_1-4-根据-0-1-0-2-0-3-讲讲-ieee-754-如何让其相等"><a href="#_1-4-根据-0-1-0-2-0-3-讲讲-ieee-754-如何让其相等" class="header-anchor">#</a> 1.4 根据 0.1+0.2 ! == 0.3，讲讲 IEEE 754 ，如何让其相等？</h4> <p>建议先阅读这篇文章了解 IEEE 754 ：<a href="https://juejin.cn/post/6940405970954616839" title="https://juejin.cn/post/6940405970954616839" target="_blank" rel="noopener noreferrer">硬核基础二进制篇（一）0.1 + 0.2 != 0.3 和 IEEE-754 标准<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 再阅读这篇文章了解如何运算：<a href="https://juejin.cn/post/6844903680362151950" title="https://juejin.cn/post/6844903680362151950" target="_blank" rel="noopener noreferrer">0.1 + 0.2 不等于 0.3？为什么 JavaScript 有这种“骚”操作？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 ​</p> <p>原因总结：</p> <ul><li><code>进制转换</code> ：js 在做数字计算的时候，0.1 和 0.2 都会被转成二进制后无限循环 ，但是 js 采用的 IEEE 754 二进制浮点运算，最大可以存储 53 位有效数字，于是大于 53 位后面的会全部截掉，将导致精度丢失。</li> <li><code>对阶运算</code> ：由于指数位数不相同，运算时需要对阶运算，阶小的尾数要根据阶差来右移（<code>0舍1入</code>），尾数位移时可能会发生数丢失的情况，影响精度。</li></ul> <p>解决办法：</p> <ol><li>转为整数（大数）运算。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> maxLen <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>
    a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
    b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> base <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">**</span> maxLen<span class="token punctuation">;</span>
  <span class="token keyword">const</span> bigA <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span>base <span class="token operator">*</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> bigB <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span>base <span class="token operator">*</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> bigRes <span class="token operator">=</span> <span class="token punctuation">(</span>bigA <span class="token operator">+</span> bigB<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token function">BigInt</span><span class="token punctuation">(</span>base<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 如果是 (1n + 2n) / 10n 是等于 0n的。。。</span>
  <span class="token keyword">return</span> <span class="token function">Number</span><span class="token punctuation">(</span>bigRes<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这里代码是有问题的，因为最后计算 <code>bigRes</code> 的大数相除（即 <code>/</code>）是会把小数部分截掉的，所以我很疑惑为什么网络上很多文章都说可以通过<strong>先转为整数运算再除回去，为了防止转为的整数超出 js 表示范围，还可以运用到 ES6 新增的大数类型，我真的很疑惑，希望有好心人能解答下。</strong></p> <ol start="2"><li>使用 <code>Number.EPSILON</code> 误差范围。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">isEqual</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>a <span class="token operator">-</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;</span> Number<span class="token punctuation">.</span><span class="token constant">EPSILON</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isEqual</span><span class="token punctuation">(</span><span class="token number">0.1</span> <span class="token operator">+</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>Number.EPSILON</code> 的实质是一个可以接受的最小误差范围，一般来说为 <code>Math.pow(2, -52)</code> 。 ​</p> <ol start="3"><li>转成字符串，对字符串做加法运算。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 字符串数字相加</span>
<span class="token keyword">var</span> <span class="token function-variable function">addStrings</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num1<span class="token punctuation">,</span> num2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> num1<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> j <span class="token operator">=</span> num2<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">||</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> n1 <span class="token operator">=</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function">Number</span><span class="token punctuation">(</span>num1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> n2 <span class="token operator">=</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token function">Number</span><span class="token punctuation">(</span>num2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> sum <span class="token operator">=</span> n1 <span class="token operator">+</span> n2 <span class="token operator">+</span> carry<span class="token punctuation">;</span>
    res<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    carry <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    i<span class="token operator">--</span><span class="token punctuation">;</span>
    j<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>carry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>carry<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">isEqual</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> sum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>intStr1<span class="token punctuation">,</span> deciStr1<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>intStr2<span class="token punctuation">,</span> deciStr2<span class="token punctuation">]</span> <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> inteSum <span class="token operator">=</span> <span class="token function">addStrings</span><span class="token punctuation">(</span>intStr1<span class="token punctuation">,</span> intStr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取整数相加部分</span>
  <span class="token keyword">const</span> deciSum <span class="token operator">=</span> <span class="token function">addStrings</span><span class="token punctuation">(</span>deciStr1<span class="token punctuation">,</span> deciStr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取小数相加部分</span>
  <span class="token keyword">return</span> inteSum <span class="token operator">+</span> <span class="token string">'.'</span> <span class="token operator">+</span> deciSum <span class="token operator">===</span> <span class="token function">String</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isEqual</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">,</span> <span class="token number">0.2</span><span class="token punctuation">,</span> <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>这是 leetcode 上一道原题：<a href="https://leetcode-cn.com/problems/add-strings/" title="https://leetcode-cn.com/problems/add-strings/" target="_blank" rel="noopener noreferrer">415. 字符串相加<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。区别在于原题没有考虑小数，但是也是很简单的，我们分为两个部分计算就行。</p> <h3 id="_2、-原型和原型链"><a href="#_2、-原型和原型链" class="header-anchor">#</a> 2、 原型和原型链</h3> <p>可以说这部分每家面试官都会问了。。首先理解的话，其实一张图即可，一段代码即可。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">let</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>千万别畏惧下面这张图，特别有用，一定要搞懂，熟到提笔就能默画出来。 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4a61ca07672a45d3aecf382100cc9719~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="image.png"></p> <p>总结：</p> <ul><li>原型：每一个 JavaScript 对象（null 除外）在创建的时候就会与之关联另一个对象，这个对象就是我们所说的原型，每一个对象都会从原型&quot;继承&quot;属性，其实就是 <code>prototype</code> 对象。</li> <li>原型链：由相互关联的原型组成的<strong>链状结构</strong>就是原型链。</li></ul> <p>先说出总结的话，再举例子说明如何顺着原型链找到某个属性。</p> <p>推荐的阅读：<a href="https://github.com/mqyqingfeng/blog/issues/2" title="https://github.com/mqyqingfeng/blog/issues/2" target="_blank" rel="noopener noreferrer">JavaScript 深入之从原型到原型链<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 掌握基本概念，再阅读这篇文章<a href="https://juejin.cn/post/6844903989088092174" title="https://juejin.cn/post/6844903989088092174" target="_blank" rel="noopener noreferrer">轻松理解 JS 原型原型链<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>加深上图的印象。</p> <h3 id="_3、-作用域与作用域链"><a href="#_3、-作用域与作用域链" class="header-anchor">#</a> 3、 作用域与作用域链</h3> <ul><li>作用域：规定了如何查找变量，也就是确定当前执行代码对变量的访问权限。换句话说，作用域决定了代码区块中变量和其他资源的可见性。（全局作用域、函数作用域、块级作用域）</li> <li>作用域链：从当前作用域开始一层层往上找某个变量，如果找到全局作用域还没找到，就放弃寻找 。这种层级关系就是作用域链。（由多个执行上下文的<strong>变量对象</strong>构成的链表就叫做作用域链，学习下面的内容之后再考虑这句话）</li></ul> <p><strong>需要注意的是，js 采用的是静态作用域，所以函数的作用域在函数定义时就确定了。</strong></p> <p>推荐阅读：先阅读<a href="https://github.com/mqyqingfeng/Blog/issues/3" title="https://github.com/mqyqingfeng/Blog/issues/3" target="_blank" rel="noopener noreferrer">JavaScript 深入之词法作用域和动态作用域<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，再阅读<a href="https://juejin.cn/post/6844903797135769614" title="https://juejin.cn/post/6844903797135769614" target="_blank" rel="noopener noreferrer">深入理解 JavaScript 作用域和作用域链<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 ​</p> <h3 id="_4、-执行上下文"><a href="#_4、-执行上下文" class="header-anchor">#</a> 4、 执行上下文</h3> <p>这部分一定要按顺序连续读这几篇文章，必须多读几遍：</p> <ul><li><a href="https://github.com/mqyqingfeng/Blog/issues/4" title="https://github.com/mqyqingfeng/Blog/issues/4" target="_blank" rel="noopener noreferrer">JavaScript 深入之执行上下文栈<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li><a href="https://github.com/mqyqingfeng/Blog/issues/5" title="https://github.com/mqyqingfeng/Blog/issues/5" target="_blank" rel="noopener noreferrer">JavaScript 深入之变量对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li><a href="https://github.com/mqyqingfeng/Blog/issues/6" title="https://github.com/mqyqingfeng/Blog/issues/6" target="_blank" rel="noopener noreferrer">JavaScript 深入之作用域链<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>；</li> <li><a href="https://github.com/mqyqingfeng/Blog/issues/8" title="https://github.com/mqyqingfeng/Blog/issues/8" target="_blank" rel="noopener noreferrer">JavaScript 深入之执行上下文<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul> <p>总结：<strong>当 JavaScript 代码执行一段可执行代码时，会创建对应的执行上下文。</strong> 对于每个执行上下文，都有三个重要属性：</p> <ul><li>变量对象（Variable object，VO）；</li> <li>作用域链（Scope chain）；</li> <li>this。（关于 this 指向问题，在上面推荐的深入系列也有讲从 ES 规范讲的，但是实在是难懂，对于应付面试来说以下这篇阮一峰的文章应该就可以了：<a href="https://www.ruanyifeng.com/blog/2018/06/javascript-this.html" title="https://www.ruanyifeng.com/blog/2018/06/javascript-this.html" target="_blank" rel="noopener noreferrer">JavaScript 的 this 原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</li></ul> <h3 id="_5、-闭包"><a href="#_5、-闭包" class="header-anchor">#</a> 5、 闭包</h3> <p>根据 MDN 中文的定义，闭包的定义如下：</p> <blockquote><p>在 JavaScript 中，每当创建一个函数，闭包就会在函数创建的同时被创建出来。可以在一个内层函数中访问到其外层函数的作用域。</p></blockquote> <p>也可以这样说：</p> <blockquote><p>闭包是指那些能够访问自由变量的函数。 自由变量是指在函数中使用的，但既不是<strong>函数参数</strong>也不是<strong>函数的局部变量</strong>的<strong>变量</strong>。 闭包 = 函数 + 函数能够访问的自由变量。</p></blockquote> <p>在经过上一小节“执行上下文”的学习，再来阅读这篇文章：<a href="https://github.com/mqyqingfeng/Blog/issues/9" title="https://github.com/mqyqingfeng/Blog/issues/9" target="_blank" rel="noopener noreferrer">JavaScript 深入之闭包<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，你会对闭包的实质有一定的了解。在回答时，我们这样答：</p> <p>在某个内部函数的执行上下文创建时，会将父级函数的<strong>活动对象</strong>加到内部函数的 <code>[[scope]]</code> 中，形成作用域链，所以即使父级函数的执行上下文销毁（即执行上下文栈弹出父级函数的执行上下文），但是因为其<strong>活动对象</strong>还是实际存储在内存中可被内部函数访问到的，从而实现了闭包。</p> <p>闭包应用： 函数作为参数被传递：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">print</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>函数作为返回值被返回：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><strong>闭包：自由变量的查找，是在函数定义的地方，向上级作用域查找。不是在执行的地方。</strong> <strong>​</strong></p> <p>应用实例：比如缓存工具，隐藏数据，只提供 API 。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// 闭包中被隐藏的数据，不被外界访问</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
c<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_6、-call、apply、bind-实现"><a href="#_6、-call、apply、bind-实现" class="header-anchor">#</a> 6、 call、apply、bind 实现</h3> <p>这部分实现还是要知道的，就算工作中不会自己手写，但是说不准面试官就是要问，知道点原理也好，可以扩宽我们写代码的思路。</p> <p><strong>call</strong></p> <blockquote><p>call() 方法在使用一个指定的 this 值和若干个指定的参数值的前提下调用某个函数或方法。</p></blockquote> <p>举个例子：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'vortesnail'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// vortesnail</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>通过 <code>call</code> 方法我们做到了以下两点：</p> <ul><li><code>call</code> 改变了 this 的指向，指向到 <code>obj</code> 。</li> <li><code>fn</code> 函数执行了。</li></ul> <p>那么如果我们自己写 <code>call</code> 方法的话，可以怎么做呢？我们先考虑改造 <code>obj</code> 。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'vortesnail'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fn</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// vortesnail</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>这时候 this 就指向了 <code>obj</code> ，但是这样做我们手动给 <code>obj</code> 增加了一个 <code>fn</code> 属性，这显然是不行的，不用担心，我们执行完再使用对象属性的删除方法（delete）不就行了？</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>obj<span class="token punctuation">.</span>fn <span class="token operator">=</span> fn<span class="token punctuation">;</span>
obj<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> obj<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>根据这个思路，我们就可以写出来了：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myCall</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Type error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 将函数绑定到 context 上，使用一个唯一的名称以避免覆盖已存在的属性</span>
  <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token comment">// 调用函数并传入展开后的参数</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 清除绑定的函数以避免内存泄漏</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>apply</strong></p> <p>我们会了 <code>call</code> 的实现之后，<code>apply</code> 就变得很简单了，他们没有任何区别，除了传参方式。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myApply</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context <span class="token operator">=</span> window<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Type error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 将函数绑定到 context 上，使用一个唯一的名称以避免覆盖已存在的属性</span>
  <span class="token keyword">const</span> key <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'key'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  context<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

  <span class="token comment">// 调用函数，如果 args 是空数组则不传参</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> args <span class="token operator">?</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">:</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 清除绑定的函数以避免内存泄漏</span>
  <span class="token keyword">delete</span> context<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>bind</strong></p> <p><code>bind</code> 返回的是一个函数,并不会马上执行，这个地方可以详细阅读这篇文章，讲的非常清楚：<a href="https://github.com/sisterAn/JavaScript-Algorithms/issues/81" title="https://github.com/sisterAn/JavaScript-Algorithms/issues/81" target="_blank" rel="noopener noreferrer">解析 bind 原理，并手写 bind 实现<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 判断调用对象是否为函数</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Type error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// 保留函数引用</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>callArgs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">self</span> <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> context<span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token punctuation">,</span> <span class="token operator">...</span>callArgs<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_7、-new-实现-创建并初始化一个实例"><a href="#_7、-new-实现-创建并初始化一个实例" class="header-anchor">#</a> 7、 new 实现-创建并初始化一个实例</h3> <ol><li>首先创一个新的空对象。</li> <li>根据原型链，设置空对象的 <code>__proto__</code> 为构造函数的 <code>prototype</code> 。</li> <li>构造函数的 this 指向这个对象，执行构造函数的代码（为这个新对象添加属性）。</li> <li>判断函数的返回值类型，如果是引用类型，就返回这个引用类型的对象。</li></ol> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">constructor<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 步骤1: 创建一个空对象</span>
  <span class="token comment">// const newObj = {};</span>

  <span class="token comment">// 步骤2: 将新对象的原型设置为构造函数的 prototype 属性</span>
  <span class="token comment">// newObj.__proto__ = constructor.prototype;</span>

  <span class="token comment">// 以上2步可简写为</span>
  <span class="token keyword">const</span> newObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 步骤3 &amp; 4: 将构造函数的作用域赋给新对象，并执行构造函数的代码</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">constructor</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>newObj<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 步骤5: 如果构造函数返回的是一个对象，则返回这个对象；否则返回新创建的对象</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> result <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">||</span>
    <span class="token keyword">typeof</span> result <span class="token operator">===</span> <span class="token string">'function'</span>
    <span class="token operator">?</span> result
    <span class="token operator">:</span> newObj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="_8、-异步"><a href="#_8、-异步" class="header-anchor">#</a> 8、 异步</h3> <p>这部分着重要理解 Promise、async awiat、event loop 等。</p> <h4 id="_8-1-event-loop、宏任务和微任务"><a href="#_8-1-event-loop、宏任务和微任务" class="header-anchor">#</a> 8.1 event loop、宏任务和微任务</h4> <p>首先推荐一个可以在线看代码流程的网站：<a href="http://latentflip.com/loupe/?code=JC5vbignYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gb25DbGljaygpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBjbGlja2VkIHRoZSBidXR0b24hJyk7ICAgIAogICAgfSwgMjAwMCk7Cn0pOwoKY29uc29sZS5sb2coIkhpISIpOwoKc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkgewogICAgY29uc29sZS5sb2coIkNsaWNrIHRoZSBidXR0b24hIik7Cn0sIDUwMDApOwoKY29uc29sZS5sb2coIldlbGNvbWUgdG8gbG91cGUuIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D" title="http://latentflip.com/loupe/?code=JC5vbignYnV0dG9uJywgJ2NsaWNrJywgZnVuY3Rpb24gb25DbGljaygpIHsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gdGltZXIoKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1lvdSBjbGlja2VkIHRoZSBidXR0b24hJyk7ICAgIAogICAgfSwgMjAwMCk7Cn0pOwoKY29uc29sZS5sb2coIkhpISIpOwoKc2V0VGltZW91dChmdW5jdGlvbiB0aW1lb3V0KCkgewogICAgY29uc29sZS5sb2coIkNsaWNrIHRoZSBidXR0b24hIik7Cn0sIDUwMDApOwoKY29uc29sZS5sb2coIldlbGNvbWUgdG8gbG91cGUuIik7!!!PGJ1dHRvbj5DbGljayBtZSE8L2J1dHRvbj4%3D" target="_blank" rel="noopener noreferrer">loupe<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 然后看下这个视频学习下：<a href="https://www.bilibili.com/video/BV1oV411k7XY/?spm_id_from=333.788.recommend_more_video.-1" title="https://www.bilibili.com/video/BV1oV411k7XY/?spm_id_from=333.788.recommend_more_video.-1" target="_blank" rel="noopener noreferrer">到底什么是 Event Loop 呢？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>简单的例子：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'cb'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// cb 即 callback</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Bye'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>它的执行过程是这样的： <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e15fc609aa84eac973c5b8ff163c11c~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="屏幕录制 2021-07-19 15.01.09.gif"> Web APIs 会创建对应的线程，比如 <code>setTimeout</code> 会创建定时器线程，<code>ajax</code> 请求会创建 http 线程。。。这是由 js 的运行环境决定的，比如浏览器。</p> <p>看完上面的视频之后，至少大家画 Event Loop 的图讲解不是啥问题了，但是涉及到<strong>宏任务</strong>和<strong>微任务</strong>，我们还得拜读一下这篇文章：<a href="https://juejin.cn/post/6844903512845860872" title="https://juejin.cn/post/6844903512845860872" target="_blank" rel="noopener noreferrer">这一次，彻底弄懂 JavaScript 执行机制<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。如果意犹未尽，不如再读下这篇非常详细带有大量动图的文章：<a href="https://juejin.cn/post/6969028296893792286#comment" title="https://juejin.cn/post/6969028296893792286#comment" target="_blank" rel="noopener noreferrer">做一些动图，学习一下 EventLoop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。想了解事件循环和页面渲染之间关系的又可以再阅读这篇文章：<a href="https://juejin.cn/post/6844904165462769678" title="https://juejin.cn/post/6844904165462769678" target="_blank" rel="noopener noreferrer">深入解析你不知道的 EventLoop 和浏览器渲染、帧动画、空闲回调（动图演示）<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p><strong>注意：1.Call Stack 调用栈空闲 -&gt; 2.尝试 DOM 渲染 -&gt; 触发 Event loop</strong>。</p> <ul><li>每次 Call Stack 清空（即每次轮询结束），即同步任务执行完。</li> <li>都是 DOM 重新渲染的机会，DOM 结构有改变则重新渲染。</li> <li>然后再去触发下一次 Event loop。</li></ul> <p>宏任务：setTimeout，setInterval，Ajax，DOM 事件。 微任务：Promise async/await。</p> <p>两者区别：</p> <ul><li>宏任务：DOM 渲染后触发，如 <code>setTimeout</code> 、<code>setInterval</code> 、<code>DOM 事件</code> 、<code>script</code> 。</li> <li>微任务：DOM 渲染前触发，如 <code>Promise.then</code> 、<code>MutationObserver</code> 、Node 环境下的 <code>process.nextTick</code> 。</li></ul> <p><strong>从 event loop 解释，为何微任务执行更早？</strong></p> <ul><li>微任务是 ES6 语法规定的（被压入 micro task queue）。</li> <li>宏任务是由浏览器规定的（通过 Web APIs 压入 Callback queue）。</li> <li>宏任务执行时间一般比较长。</li> <li>每一次宏任务开始之前一定是伴随着一次 event loop 结束的，而微任务是在一次 event loop 结束前执行的。</li></ul> <h4 id="_8-2-promise"><a href="#_8-2-promise" class="header-anchor">#</a> 8.2 Promise</h4> <p>关于这一块儿没什么好说的，最好是实现一遍 Promise A+ 规范，多少有点印象，当然面试官也不会叫你默写一个完整的出来，但是你起码要知道实现原理。</p> <blockquote><p>关于 Promise 的所有使用方式，可参照这篇文章：<a href="https://es6.ruanyifeng.com/#docs/promise" title="https://es6.ruanyifeng.com/#docs/promise" target="_blank" rel="noopener noreferrer">ECMAScript 6 入门 - Promise 对象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 手写 Promise 源码的解析文章，可阅读此篇文章：<a href="https://juejin.cn/post/6945319439772434469#heading-0" title="https://juejin.cn/post/6945319439772434469#heading-0" target="_blank" rel="noopener noreferrer">从一道让我失眠的 Promise 面试题开始，深入分析 Promise 实现细节<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 关于 Promise 的面试题，可参考这篇文章：<a href="https://juejin.cn/post/6844904077537574919" title="https://juejin.cn/post/6844904077537574919" target="_blank" rel="noopener noreferrer">要就来 45 道 Promise 面试题一次爽到底<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <p>实现一个 Promise.all：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>Promise<span class="token punctuation">.</span><span class="token function-variable function">all</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">promises</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 参数可以不是数组，但必须具有 Iterator 接口</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> promises<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'Type error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>promises<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> len <span class="token operator">=</span> promises<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//考虑到 promises[i] 可能是 thenable 对象也可能是普通值</span>
        Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>promises<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            res<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>count <span class="token operator">===</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">resolve</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h4 id="_8-3-async-await-和-promise-的关系"><a href="#_8-3-async-await-和-promise-的关系" class="header-anchor">#</a> 8.3 async/await 和 Promise 的关系</h4> <ul><li>async/await 是消灭异步回调的终极武器。</li> <li>但和 Promise 并不互斥，反而，两者相辅相成。</li> <li>执行 async 函数，返回的一定是 Promise 对象。</li> <li>await 相当于 Promise 的 then。</li> <li>tru...catch 可捕获异常，代替了 Promise 的 catch。</li></ul> <h3 id="_9、-浏览器的垃圾回收机制"><a href="#_9、-浏览器的垃圾回收机制" class="header-anchor">#</a> 9、 浏览器的垃圾回收机制</h3> <p>这里看这篇文章即可：<a href="https://juejin.cn/post/6981588276356317214" title="https://juejin.cn/post/6981588276356317214" target="_blank" rel="noopener noreferrer">「硬核 JS」你真的了解垃圾回收机制吗<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>总结一下：</p> <p>有两种垃圾回收策略：</p> <ul><li><strong>标记清除</strong>：标记阶段即为所有活动对象做上标记，清除阶段则把没有标记（也就是非活动对象）销毁。</li> <li><strong>引用计数</strong>：它把<strong>对象是否不再需要</strong>简化定义为<strong>对象有没有其他对象引用到它</strong>。如果没有引用指向该对象（引用计数为 0），对象将被垃圾回收机制回收。</li></ul> <p>标记清除的缺点：</p> <ul><li><strong>内存碎片化</strong>，空闲内存块是不连续的，容易出现很多空闲内存块，还可能会出现分配所需内存过大的对象时找不到合适的块。</li> <li><strong>分配速度慢</strong>，因为即便是使用 First-fit 策略，其操作仍是一个 O(n) 的操作，最坏情况是每次都要遍历到最后，同时因为碎片化，大对象的分配效率会更慢。</li></ul> <p>解决以上的缺点可以使用 **标记整理（Mark-Compact）算法 **，标记结束后，标记整理算法会将活着的对象（即不需要清理的对象）向内存的一端移动，最后清理掉边界的内存（如下图） <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eb543f2fdc634e29add495b8f2ff048f~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="image.png"></p> <p>引用计数的缺点：</p> <ul><li>需要一个计数器，所占内存空间大，因为我们也不知道被引用数量的上限。</li> <li>解决不了循环引用导致的无法回收问题。</li></ul> <p>V8 的垃圾回收机制也是基于标记清除算法，不过对其做了一些优化。</p> <ul><li>针对新生区采用并行回收。</li> <li>针对老生区采用增量标记与惰性回收。</li></ul> <h3 id="_10、-实现一个-eventmitter-类"><a href="#_10、-实现一个-eventmitter-类" class="header-anchor">#</a> 10、 实现一个 EventMitter 类</h3> <p>EventMitter 就是发布订阅模式的典型应用：</p> <div class="language-typescript line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">EventEmitter</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> _events<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">Function</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_events <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">emit</span><span class="token punctuation">(</span>evt<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> fns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    fns<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">on</span><span class="token punctuation">(</span>evt<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> fn <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'The evet-triggered callback must be a function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>fn<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">once</span><span class="token punctuation">(</span>evt<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">execFn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> execFn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>evt<span class="token punctuation">,</span> execFn<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">off</span><span class="token punctuation">(</span>evt<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">let</span> cb<span class="token punctuation">;</span>
    <span class="token keyword">const</span> cbLen <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> cbLen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      cb <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cb <span class="token operator">===</span> fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">removeAllListeners</span><span class="token punctuation">(</span>evt<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>evt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>_events<span class="token punctuation">[</span>evt<span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>_events <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><h2 id="四、web-存储"><a href="#四、web-存储" class="header-anchor">#</a> 四、web 存储</h2> <p>要掌握 cookie，localStorage 和 sessionStorage。</p> <h3 id="_1、cookie"><a href="#_1、cookie" class="header-anchor">#</a> 1、cookie</h3> <ul><li>本身用于浏览器和 server 通讯。</li> <li>被“借用”到本地存储来的。</li> <li>可用 document.cookie = '...' 来修改。</li></ul> <p>其缺点：</p> <ul><li>存储大小限制为 4KB。</li> <li>http 请求时需要发送到服务端，增加请求数量。</li> <li>只能用 document.cookie = '...' 来修改，太过简陋。</li></ul> <h3 id="_2、localstorage-和-sessionstorage"><a href="#_2、localstorage-和-sessionstorage" class="header-anchor">#</a> 2、localStorage 和 sessionStorage</h3> <ul><li>HTML5 专门为存储来设计的，最大可存 5M。</li> <li>API 简单易用， setItem getItem。</li> <li>不会随着 http 请求被发送到服务端。</li></ul> <p>它们的区别：</p> <ul><li>localStorage 数据会永久存储，除非代码删除或手动删除。</li> <li>sessionStorage 数据只存在于当前会话，浏览器关闭则清空。</li> <li>一般用 localStorage 会多一些。</li></ul> <h2 id="五、http"><a href="#五、http" class="header-anchor">#</a> 五、Http</h2> <p>前端工程师做出网页，需要通过网络请求向后端获取数据，因此 http 协议是前端面试的必考内容。</p> <h3 id="_1、http-状态码"><a href="#_1、http-状态码" class="header-anchor">#</a> 1、http 状态码</h3> <h4 id="_1-1-状态码分类"><a href="#_1-1-状态码分类" class="header-anchor">#</a> 1.1 状态码分类</h4> <ul><li>1xx - 服务器收到请求。</li> <li>2xx - 请求成功，如 200。</li> <li>3xx - 重定向，如 302。</li> <li>4xx - 客户端错误，如 404。</li> <li>5xx - 服务端错误，如 500。</li></ul> <h4 id="_1-2-常见状态码"><a href="#_1-2-常见状态码" class="header-anchor">#</a> 1.2 常见状态码</h4> <ul><li>200 - 成功。</li> <li>301 - 永久重定向（配合 location，浏览器自动处理）。</li> <li>302 - 临时重定向（配合 location，浏览器自动处理）。</li> <li>304 - 资源未被修改。</li> <li>403 - 没权限。</li> <li>404 - 资源未找到。</li> <li>500 - 服务器错误。</li> <li>504 - 网关超时。</li></ul> <h4 id="_1-3-关于协议和规范"><a href="#_1-3-关于协议和规范" class="header-anchor">#</a> 1.3 关于协议和规范</h4> <ul><li>状态码都是约定出来的。</li> <li>要求大家都跟着执行。</li> <li>不要违反规范，例如 IE 浏览器。</li></ul> <h3 id="_2、http-缓存"><a href="#_2、http-缓存" class="header-anchor">#</a> 2、http 缓存</h3> <ul><li>关于缓存的介绍。</li> <li>http 缓存策略（强制缓存 + 协商缓存）。</li> <li>刷新操作方式，对缓存的影响。</li></ul> <h4 id="_4-1-关于缓存"><a href="#_4-1-关于缓存" class="header-anchor">#</a> 4.1 关于缓存</h4> <p>什么是缓存？ 把一些不需要重新获取的内容再重新获取一次</p> <p>为什么需要缓存？ 网络请求相比于 CPU 的计算和页面渲染是非常非常慢的。</p> <p>哪些资源可以被缓存？ 静态资源，比如 js css img。</p> <h4 id="_4-2-强制缓存"><a href="#_4-2-强制缓存" class="header-anchor">#</a> 4.2 强制缓存</h4> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0ff1ec224244427ba9f15abecbd668fe~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="图片 1.png"></p> <p>Cache-Control：</p> <ul><li>在 Response Headers 中。</li> <li>控制强制缓存的逻辑。</li> <li>例如 Cache-Control: max-age=3153600（单位是秒）</li></ul> <p>Cache-Control 有哪些值：</p> <ul><li>max-age：缓存最大过期时间。</li> <li>no-cache：可以在客户端存储资源，每次都必须去服务端做新鲜度校验，来决定从服务端获取新的资源（200）还是使用客户端缓存（304）。</li> <li>no-store：永远都不要在客户端存储资源，永远都去原始服务器去获取资源。</li></ul> <h4 id="_4-3-协商缓存-对比缓存"><a href="#_4-3-协商缓存-对比缓存" class="header-anchor">#</a> 4.3 协商缓存（对比缓存）</h4> <ul><li>服务端缓存策略。</li> <li>服务端判断客户端资源，是否和服务端资源一样。</li> <li>一致则返回 304，否则返回 200 和最新的资源。</li></ul> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/56e265f46c80430fbf4673878a27bfc9~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="图片 2.png"> 资源标识：</p> <ul><li>在 Response Headers 中，有两种。</li> <li>Last-Modified：资源的最后修改时间。</li> <li>Etag：资源的唯一标识（一个字符串，类似于人类的指纹）。</li></ul> <p><strong>Last-Modified：</strong> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4c4f44afeb73464295e9878d2c47b024~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="图片 3.png"> 服务端拿到 if-Modified-Since 之后拿这个时间去和服务端资源最后修改时间做比较，如果一致则返回 304 ，不一致（也就是资源已经更新了）就返回 200 和新的资源及新的 Last-Modified。</p> <p><strong>Etag：</strong> <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e35285a8d23a4a4380676aeb681e815d~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="图片 4.png"> 其实 Etag 和 Last-Modified 一样的，只不过 Etag 是服务端对资源按照一定方式（比如 contenthash）计算出来的唯一标识，就像人类指纹一样，传给客户端之后，客户端再传过来时候，服务端会将其与现在的资源计算出来的唯一标识做比较，一致则返回 304，不一致就返回 200 和新的资源及新的 Etag。</p> <p><strong>两者比较：</strong></p> <ul><li>优先使用 Etag。</li> <li>Last-Modified 只能精确到秒级。</li> <li>如果资源被重复生成，而内容不变，则 Etag 更精确。</li></ul> <h4 id="_4-4-综述"><a href="#_4-4-综述" class="header-anchor">#</a> 4.4 综述</h4> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b74c746d1459403382fd0bbc1d96aeca~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.image" alt="图片 5.png"></p> <h4 id="_4-4-三种刷新操作对-http-缓存的影响"><a href="#_4-4-三种刷新操作对-http-缓存的影响" class="header-anchor">#</a> 4.4 三种刷新操作对 http 缓存的影响</h4> <ul><li>正常操作：地址栏输入 url，跳转链接，前进后退等。</li> <li>手动刷新：f5，点击刷新按钮，右键菜单刷新。</li> <li>强制刷新：ctrl + f5，shift+command+r。</li></ul> <p><strong>正常操作：强制缓存有效，协商缓存有效。</strong> <strong>手动刷新：强制缓存失效，协商缓存有效。</strong> <strong>强制刷新：强制缓存失效，协商缓存失效。</strong> <strong>​</strong></p> <h3 id="_3-面试"><a href="#_3-面试" class="header-anchor">#</a> 3. 面试</h3> <p><strong>对于更多面试中可能出现的问题，我还是建议精读这篇三元的文章：</strong><a href="https://juejin.cn/post/6844904100035821575" title="https://juejin.cn/post/6844904100035821575" target="_blank" rel="noopener noreferrer">HTTP 灵魂之问，巩固你的 HTTP 知识体系<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>比如会被经常问到的： GET 和 POST 的区别。</p> <ul><li>从<strong>缓存</strong>的角度，GET 请求会被浏览器主动缓存下来，留下历史记录，而 POST 默认不会。</li> <li>从<strong>编码</strong>的角度，GET 只能进行 URL 编码，只能接收 ASCII 字符，而 POST 没有限制。</li> <li>从<strong>参数</strong>的角度，GET 一般放在 URL 中，因此不安全，POST 放在请求体中，更适合传输敏感信息。</li> <li>从<strong>幂等性</strong>的角度，GET 是幂等的，而 POST 不是。(幂等表示执行相同的操作，结果也是相同的)</li> <li>从 <strong>TCP</strong> 的角度，GET 请求会把请求报文一次性发出去，而 POST 会分为两个 TCP 数据包，首先发 header 部分，如果服务器响应 100(continue)， 然后发 body 部分。(火狐浏览器除外，它的 POST 请求只发一个 TCP 包)</li></ul> <p>HTTP/2 有哪些改进？（很大可能问原理）</p> <ul><li>头部压缩。</li> <li>多路复用。</li> <li>服务器推送。</li></ul> <p>关于 HTTPS 的一些原理，可以阅读这篇文章：<a href="https://juejin.cn/post/6844904038509576199" title="https://juejin.cn/post/6844904038509576199" target="_blank" rel="noopener noreferrer">这一次，彻底理解 https 原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。接着你可以观看这个视频进行更进一步的学习：<a href="https://www.bilibili.com/video/BV1XL411b7KZ?p=1" title="https://www.bilibili.com/video/BV1XL411b7KZ?p=1" target="_blank" rel="noopener noreferrer">HTTPS 底层原理，面试官直接下跪，唱征服！<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>关于<strong>跨域</strong>问题，大部分文章都是理论性比较强，还不如读这篇文章，<a href="https://zhuanlan.zhihu.com/p/149734572?from_voters_page=true" title="https://zhuanlan.zhihu.com/p/149734572?from_voters_page=true" target="_blank" rel="noopener noreferrer">聊聊跨域的原理与解决方法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，讲的非常清晰，我个人觉得对付面试就是先知道使用流程，把这个流程能自己说出来，然后再讲下原理即可。</p> <h2 id="六、react"><a href="#六、react" class="header-anchor">#</a> 六、React</h2> <h3 id="_1、-react-事件机制-react-16-和-react-17-事件机制的不同"><a href="#_1、-react-事件机制-react-16-和-react-17-事件机制的不同" class="header-anchor">#</a> 1、 React 事件机制，React 16 和 React 17 事件机制的不同</h3> <p>阅读这篇文章即可：<a href="https://juejin.cn/post/6955636911214067720" title="https://juejin.cn/post/6955636911214067720" target="_blank" rel="noopener noreferrer">一文吃透 react 事件系统原理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>为什么要自定义事件机制？</p> <ul><li>抹平浏览器差异，实现更好的跨平台。</li> <li>避免垃圾回收，React 引入事件池，在事件池中获取或释放事件对象，避免频繁地去创建和销毁。</li> <li>方便事件统一管理和事务机制。</li></ul> <h3 id="_2、class-component"><a href="#_2、class-component" class="header-anchor">#</a> 2、class component</h3> <p>不排除现在还会有面试官问关于 class component 的问题。</p> <h4 id="_2-1-生命周期"><a href="#_2-1-生命周期" class="header-anchor">#</a> 2.1 生命周期</h4> <ul><li>初始化阶段。</li></ul> <p>发生在 <code>constructor</code> 中的内容，在 <code>constructor</code> 中进行 <code>state</code> 、<code>props</code> 的初始化，在这个阶段修改 <code>state</code>，不会执行更新阶段的生命周期，可以直接对 <code>state</code> 赋值。</p> <ul><li>挂载阶段。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">1.</span> componentWillMount
   发生在 render 函数之前，还没有挂载 Dom
<span class="token number">2.</span> render
<span class="token number">3.</span> componentDidMount
   发生在 render 函数之后，已经挂载 Dom
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>更新阶段。</li></ul> <p>更新阶段分为由 <code>state</code> 更新引起和 <code>props</code> 更新引起。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>props 更新时：
<span class="token number">1.</span> <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span>nextState<span class="token punctuation">)</span>
   这个生命周期主要为我们提供对 props 发生改变的监听，如果你需要在 props 发生改变后，相应改变组件的一些 state。在这个方法中改变 state 不会二次渲染，而是直接合并 state。
<span class="token number">2.</span> <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span>nextState<span class="token punctuation">)</span>
   这个生命周期需要返回一个 Boolean 类型的值，判断是否需要更新渲染组件，优化 react 应用的主要手段之一，当返回 <span class="token boolean">false</span> 就不会再向下执行生命周期了，在这个阶段不可以 <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>，会导致循环调用。
<span class="token number">3.</span> <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span>nextState<span class="token punctuation">)</span>
   这个生命周期主要是给我们一个时机能够处理一些在 Dom 发生更新之前的事情，如获得 Dom 更新前某些元素的坐标、大小等，在这个阶段不可以 <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>，会导致循环调用。
    <span class="token operator">**</span>一直到这里 <span class="token keyword">this</span><span class="token punctuation">.</span>props 和 <span class="token keyword">this</span><span class="token punctuation">.</span>state 都还未发生更新<span class="token operator">**</span>
<span class="token number">4.</span> render
<span class="token number">5.</span> <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span> prevState<span class="token punctuation">)</span>
   在此时已经完成渲染，Dom 已经发生变化，state 已经发生更新，prevProps、prevState 均为上一个状态的值。

state 更新时（具体同上）
<span class="token number">1.</span> shouldComponentUpdate
<span class="token number">2.</span> componentWillUpdate
<span class="token number">3.</span> render
<span class="token number">4.</span> componentDidUpdate
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>卸载阶段。</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">1.</span> componentWillUnmount
   在组件卸载及销毁之前直接调用。在此方法中执行必要的清理操作，例如，清除 timer，取消网络请求或清除在 componentDidMount  中创建的订阅等。componentWillUnmount 中不应调用 setState，因为该组件将永远不会重新渲染。组件实例卸载后，将永远不会再挂载它。

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在 React 16 中官方已经建议删除以下三个方法，非要使用必须加前缀：<code>UNSAVE_</code> 。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>componentWillMount<span class="token punctuation">;</span>
componentWillReceiveProps<span class="token punctuation">;</span>
componentWillUpdate<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>取代这两三个生命周期的以下两个新的。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">1.</span> <span class="token keyword">static</span> <span class="token function">getDerivedStateFromProps</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span>nextState<span class="token punctuation">)</span>
   在组件实例化、接收到新的 props 、组件状态更新时会被调用
<span class="token number">2.</span> getSnapshotBeforeUpdate（prevProps<span class="token punctuation">,</span>prevState）
   在这个阶段我们可以拿到上一个状态 Dom 元素的坐标、大小的等相关信息。用于替代旧的生命周期中的 componentWillUpdate。
   该函数的返回值将会作为 componentDidUpdate 的第三个参数出现。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>需要注意的是，一般都会问为什么要废弃三个生命周期，原因是什么。</p> <h4 id="_2-2-setstate-同步还是异步"><a href="#_2-2-setstate-同步还是异步" class="header-anchor">#</a> 2.2 setState 同步还是异步</h4> <p><code>setState</code> 本身代码的执行肯定是同步的，这里的异步是指是多个 state 会合成到一起进行批量更新。 同步还是异步取决于它被调用的环境。</p> <ul><li>如果 <code>setState</code> 在 React 能够控制的范围被调用，它就是<strong>异步</strong>的。比如<strong>合成事件处理函数</strong>，<strong>生命周期函数</strong>， 此时会进行批量更新，也就是将状态合并后再进行 DOM 更新。</li> <li>如果 <code>setState</code> 在原生 JavaScript 控制的范围被调用，它就是<strong>同步</strong>的。比如原生事件处理函数，定时器回调函数，Ajax 回调函数中，此时 <code>setState</code> 被调用后会立即更新 DOM 。</li></ul> <h3 id="_3、对函数式编程的理解"><a href="#_3、对函数式编程的理解" class="header-anchor">#</a> 3、对函数式编程的理解</h3> <p>这篇文章写的真的太好了，一定要读：<a href="https://juejin.cn/post/6844903936378273799" title="https://juejin.cn/post/6844903936378273799" target="_blank" rel="noopener noreferrer">简明 JavaScript 函数式编程——入门篇<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>总结一下： 函数式编程有两个核心概念。</p> <ul><li><strong>数据不可变（无副作用）：</strong> 它要求你所有的数据都是不可变的，这意味着如果你想修改一个对象，那你应该创建一个新的对象用来修改，而不是修改已有的对象。</li> <li><strong>无状态：</strong> 主要是强调对于一个函数，不管你何时运行，它都应该像第一次运行一样，给定相同的输入，给出相同的输出，完全不依赖外部状态的变化。</li></ul> <p>纯函数带来的意义。</p> <ul><li><strong>便于测试和优化</strong>：这个意义在实际项目开发中意义非常大，由于纯函数对于相同的输入永远会返回相同的结果，因此我们可以轻松断言函数的执行结果，同时也可以保证函数的优化不会影响其他代码的执行。</li> <li><strong>可缓存性</strong>：因为相同的输入总是可以返回相同的输出，因此，我们可以提前缓存函数的执行结果。</li> <li><strong>更少的 Bug</strong>：使用纯函数意味着你的函数中<strong>不存在指向不明的 this，不存在对全局变量的引用，不存在对参数的修改</strong>，这些共享状态往往是绝大多数 bug 的源头。</li></ul> <h3 id="_4、react-hooks"><a href="#_4、react-hooks" class="header-anchor">#</a> 4、react hooks</h3> <p>现在应该大多数面试官会问 hooks 相关的啦。这里我强烈推荐三篇文章，即使没看过源码，也能比较好地理解一些原理：
<a href="https://juejin.cn/post/6844904127110053895" title="https://juejin.cn/post/6844904127110053895" target="_blank" rel="noopener noreferrer">用动画和实战打开 React Hooks（一）：useState 和 useEffect<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://juejin.cn/post/6844904132164190221" title="https://juejin.cn/post/6844904132164190221" target="_blank" rel="noopener noreferrer">用动画和实战打开 React Hooks（二）：自定义 Hook 和 useCallback<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://juejin.cn/post/6844904149746728973" title="https://juejin.cn/post/6844904149746728973" target="_blank" rel="noopener noreferrer">用动画和实战打开 React Hooks（三）：useReducer 和 useContext<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_4-1-为什么不能在条件语句中写-hook"><a href="#_4-1-为什么不能在条件语句中写-hook" class="header-anchor">#</a> 4.1 为什么不能在条件语句中写 hook</h4> <p>推荐这篇文章：<a href="https://juejin.cn/post/6939766434159394830" title="https://juejin.cn/post/6939766434159394830" target="_blank" rel="noopener noreferrer">我打破了 React Hook 必须按顺序、不能在条件语句中调用的枷锁<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>hook 在每次渲染时的查找是根据一个“全局”的下标对链表进行查找的，如果放在条件语句中使用，有一定几率会造成拿到的状态出现错乱。</p> <h4 id="_4-2-hoc-和-hook-的区别"><a href="#_4-2-hoc-和-hook-的区别" class="header-anchor">#</a> 4.2 HOC 和 hook 的区别</h4> <p>hoc 能复用<strong>逻辑和视图</strong>，hook 只能复用<strong>逻辑</strong>。</p> <h4 id="_4-3-useeffect-和-uselayouteffect-区别"><a href="#_4-3-useeffect-和-uselayouteffect-区别" class="header-anchor">#</a> 4.3 useEffect 和 useLayoutEffect 区别</h4> <p>对于 React 的函数组件来说，其更新过程大致分为以下步骤：</p> <ol><li>因为某个事件 <code>state</code> 发生变化。</li> <li>React 内部更新 <code>state</code> 变量。</li> <li>React 处理更新组件中 return 出来的 DOM 节点（进行一系列 dom diff 、调度等流程）。</li> <li>将更新过后的 DOM 数据绘制到浏览器中。</li> <li>用户看到新的页面。</li></ol> <p><code>useEffect</code> 在第 4 步之后执行，且是异步的，保证了不会阻塞浏览器进程。 <code>useLayoutEffect</code> 在第 3 步至第 4 步之间执行，且是同步代码，所以会阻塞后面代码的执行。</p> <h4 id="_4-4-useeffect-依赖为空数组与-componentdidmount-区别"><a href="#_4-4-useeffect-依赖为空数组与-componentdidmount-区别" class="header-anchor">#</a> 4.4 useEffect 依赖为空数组与 componentDidMount 区别</h4> <p>在 <code>render</code> 执行之后，<code>componentDidMount</code> 会执行，如果在这个生命周期中再一次 <code>setState</code> ，会导致再次 <code>render</code> ，返回了新的值，浏览器只会渲染第二次 <code>render</code> 返回的值，这样可以避免闪屏。</p> <p>但是 <code>useEffect</code> 是在真实的 DOM 渲染之后才会去执行，这会造成两次 <code>render</code> ，有可能会闪屏。</p> <p>实际上 <code>useLayoutEffect</code> 会更接近 <code>componentDidMount</code> 的表现，它们都同步执行且会阻碍真实的 DOM 渲染的。</p> <h4 id="_4-5-react-memo-和-react-usememo-的区别"><a href="#_4-5-react-memo-和-react-usememo-的区别" class="header-anchor">#</a> 4.5 React.memo() 和 React.useMemo() 的区别</h4> <ul><li><code>memo</code> 是一个高阶组件，默认情况下会对 <code>props</code> 进行浅比较，如果相等不会重新渲染。多数情况下我们比较的都是引用类型，浅比较就会失效，所以我们可以传入第二个参数手动控制。</li> <li><code>useMemo</code> 返回的是一个缓存值，只有依赖发生变化时才会去重新执行作为第一个参数的函数，需要记住的是，<code>useMemo</code> 是在 <code>render</code> 阶段执行的，所以不要在这个函数内部执行与渲染无关的操作，诸如副作用这类的操作属于 <code>useEffect</code> 的适用范畴。</li></ul> <h4 id="_4-6-react-usecallback-和-react-usememo-的区别"><a href="#_4-6-react-usecallback-和-react-usememo-的区别" class="header-anchor">#</a> 4.6 React.useCallback() 和 React.useMemo() 的区别</h4> <ul><li><code>useCallback</code> 可缓存函数，其实就是避免每次重新渲染后都去重新执行一个新的函数。</li> <li><code>useMemo</code> 可缓存值。</li></ul> <p>有很多时候，我们在 <code>useEffect</code> 中使用某个定义的外部函数，是要添加到 <code>deps</code> 数组中的，如果不用 <code>useCallback</code> 缓存，这个函数在每次重新渲染时都是一个完全新的函数，也就是引用地址发生了变化，这就会导致 <code>useEffect</code> 总会无意义的执行。</p> <h4 id="_4-7-react-forwardref-是什么及其作用"><a href="#_4-7-react-forwardref-是什么及其作用" class="header-anchor">#</a> 4.7 React.forwardRef 是什么及其作用</h4> <p>这里还是阅读官方文档来的清晰：<a href="https://zh-hans.reactjs.org/docs/react-api.html#reactforwardref" title="https://zh-hans.reactjs.org/docs/react-api.html#reactforwardref" target="_blank" rel="noopener noreferrer">React.forwardRef<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 一般在父组件要拿到子组件的某个实际的 DOM 元素时会用到。</p> <h3 id="_6、react-hooks-与-class-组件对比"><a href="#_6、react-hooks-与-class-组件对比" class="header-anchor">#</a> 6、react hooks 与 class 组件对比</h3> <p><a href="https://juejin.cn/post/6844904179136200712" title="https://juejin.cn/post/6844904179136200712" target="_blank" rel="noopener noreferrer">react hooks 与 class 组件对比<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://overreacted.io/zh-hans/how-are-function-components-different-from-classes/" title="https://overreacted.io/zh-hans/how-are-function-components-different-from-classes/" target="_blank" rel="noopener noreferrer">函数式组件与类组件有何不同<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_7、介绍-react-dom-diff-算法"><a href="#_7、介绍-react-dom-diff-算法" class="header-anchor">#</a> 7、介绍 React dom diff 算法</h3> <p><a href="https://juejin.cn/post/6844903806132568072" title="https://juejin.cn/post/6844903806132568072" target="_blank" rel="noopener noreferrer">让虚拟 DOM 和 DOM-diff 不再成为你的绊脚石<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="_8、对-react-fiber-的理解"><a href="#_8、对-react-fiber-的理解" class="header-anchor">#</a> 8、对 React Fiber 的理解</h3> <p>关于这块儿我觉得可以好好阅读下这篇无敌的博客了：<a href="https://pomb.us/build-your-own-react/" title="https://pomb.us/build-your-own-react/" target="_blank" rel="noopener noreferrer">Build your own React<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。 它可以教你一步步实现一个简单的基于 React Fiber 的 React，可以学到很多 React 的设计思想，毕竟为了面试我们可能大多数人是没有时间或能力去阅读源码的了。</p> <p>然后我们再阅读下其它作者对于 React Fiber 的理解，再转化为我们自己的思考总结，以下是推荐文章： <a href="https://juejin.cn/post/6844903975112671239" title="https://juejin.cn/post/6844903975112671239" target="_blank" rel="noopener noreferrer">这可能是最通俗的 React Fiber(时间分片) 打开方式<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="_9、react-性能优化手段"><a href="#_9、react-性能优化手段" class="header-anchor">#</a> 9、React 性能优化手段</h3> <p>推荐文章：<a href="https://juejin.cn/post/6844903924302888973" title="https://juejin.cn/post/6844903924302888973" target="_blank" rel="noopener noreferrer">React 性能优化的 8 种方式了解一下？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>使用 <code>React.memo</code> 来缓存组件。</li> <li>使用 <code>React.useMemo</code> 缓存大量的计算。</li> <li>避免使用匿名函数。</li> <li>利用 <code>React.lazy</code> 和 <code>React.Suspense</code> 延迟加载不是立即需要的组件。</li> <li>尽量使用 CSS 而不是强制加载和卸载组件。</li> <li>使用 <code>React.Fragment</code> 避免添加额外的 DOM。</li></ul> <h3 id="_10、react-redux"><a href="#_10、react-redux" class="header-anchor">#</a> 10、React Redux</h3> <p><a href="https://juejin.cn/post/6844904021187117069" title="https://juejin.cn/post/6844904021187117069" target="_blank" rel="noopener noreferrer">Redux 包教包会（一）：介绍 Redux 三大核心概念<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="七、webpack"><a href="#七、webpack" class="header-anchor">#</a> 七、webpack</h2> <p>原理初探：<a href="https://juejin.cn/post/6943468761575849992" title="https://juejin.cn/post/6943468761575849992" target="_blank" rel="noopener noreferrer">当面试官问 Webpack 的时候他想知道什么<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
简易实现：<a href="https://github.com/Cosen95/blog/issues/48" title="https://github.com/Cosen95/blog/issues/48" target="_blank" rel="noopener noreferrer">面试官：webpack 原理都不会<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<a href="https://segmentfault.com/a/1190000039231950" title="https://segmentfault.com/a/1190000039231950" target="_blank" rel="noopener noreferrer">手写一个 webpack，看看 AST 怎么用<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
加料：<a href="https://juejin.cn/post/6844903520378814471" title="https://juejin.cn/post/6844903520378814471" target="_blank" rel="noopener noreferrer">简单易懂的 webpack 打包后 JS 的运行过程<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<a href="https://juejin.cn/post/6888936770692448270" title="https://juejin.cn/post/6888936770692448270" target="_blank" rel="noopener noreferrer">Webpack 手写 loader 和 plugin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
热更新原理：<a href="https://zhuanlan.zhihu.com/p/30669007" title="https://zhuanlan.zhihu.com/p/30669007" target="_blank" rel="noopener noreferrer">Webpack HMR 原理解析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
面试题：<a href="https://juejin.cn/post/6844904094281236487" title="https://juejin.cn/post/6844904094281236487" target="_blank" rel="noopener noreferrer">「吐血整理」再来一打 Webpack 面试题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>这里要注意，应该还会考 webpack5 和 4 有哪些区别。</strong></p> <h2 id="八、模块化"><a href="#八、模块化" class="header-anchor">#</a> 八、模块化</h2> <p><a href="https://juejin.cn/post/6844903744518389768" title="https://juejin.cn/post/6844903744518389768" target="_blank" rel="noopener noreferrer">前端模块化详解(完整版)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> （这里面没有讲 umd）
<a href="https://juejin.cn/post/6844903927104667662" title="https://juejin.cn/post/6844903927104667662" target="_blank" rel="noopener noreferrer">可能是最详细的 UMD 模块入门指南<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="九、性能优化"><a href="#九、性能优化" class="header-anchor">#</a> 九、性能优化</h2> <p>代码层面：</p> <ul><li>防抖和节流（resize，scroll，input）。</li> <li>减少回流（重排）和重绘。</li> <li>事件委托。</li> <li>css 放 ，js 脚本放 最底部。</li> <li>减少 DOM 操作。</li> <li>按需加载，比如 React 中使用 <code>React.lazy</code> 和 <code>React.Suspense</code> ，通常需要与 webpack 中的 <code>splitChunks</code> 配合。</li></ul> <p>构建方面：</p> <ul><li><strong>压缩代码文件</strong>，在 webpack 中使用 <code>terser-webpack-plugin</code> 压缩 Javascript 代码；使用 <code>css-minimizer-webpack-plugin</code> 压缩 CSS 代码；使用 <code>html-webpack-plugin</code> 压缩 html 代码。</li> <li><strong>开启 gzip 压缩</strong>，webpack 中使用 <code>compression-webpack-plugin</code> ，node 作为服务器也要开启，使用 <code>compression</code>。</li> <li><strong>常用的第三方库使用 CDN 服务</strong>，在 webpack 中我们要配置 externals，将比如 React， Vue 这种包不打倒最终生成的文件中。而是采用 CDN 服务。</li></ul> <p>其它：</p> <ul><li>使用 http2。因为解析速度快，头部压缩，多路复用，服务器推送静态资源。</li> <li>使用服务端渲染。</li> <li>图片压缩。</li> <li>使用 http 缓存，比如服务端的响应中添加 <code>Cache-Control / Expires</code> 。</li></ul> <h2 id="十、常见手写"><a href="#十、常见手写" class="header-anchor">#</a> 十、常见手写</h2> <p>以下的内容是上面没有提到的手写，比如 <code>new</code> 、<code>Promise.all</code> 这种上面内容中已经提到了如何写。</p> <h3 id="_1、防抖"><a href="#_1、防抖" class="header-anchor">#</a> 1、防抖</h3> <p><a href="https://github.com/mqyqingfeng/Blog/issues/22" title="https://github.com/mqyqingfeng/Blog/issues/22" target="_blank" rel="noopener noreferrer">JavaScript 专题之跟着 underscore 学防抖<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ​</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait<span class="token punctuation">,</span> immediate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>timeout<span class="token punctuation">)</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>immediate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timeout<span class="token punctuation">;</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_2、节流"><a href="#_2、节流" class="header-anchor">#</a> 2、节流</h3> <p><a href="https://github.com/mqyqingfeng/Blog/issues/26" title="https://github.com/mqyqingfeng/Blog/issues/26" target="_blank" rel="noopener noreferrer">JavaScript 专题之跟着 underscore 学节流<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 使用时间戳</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> preTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>nowTime <span class="token operator">-</span> preTime <span class="token operator">&gt;</span> wait<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      preTime <span class="token operator">=</span> nowTime<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 定时器实现</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span> wait</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> timeout<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timeout<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      timeout <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        timeout <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> wait<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h3 id="_3、快速排序"><a href="#_3、快速排序" class="header-anchor">#</a> 3、快速排序</h3> <p>这里对快排思想不太明白的同学可以看下这个讲解的很清晰的视频：<a href="https://www.bilibili.com/video/BV1at411T75o?from=search&amp;seid=10065750342799523965&amp;spm_id_from=333.337.0.0" title="https://www.bilibili.com/video/BV1at411T75o?from=search&amp;seid=10065750342799523965&amp;spm_id_from=333.337.0.0" target="_blank" rel="noopener noreferrer">快速排序算法<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sortArray</span><span class="token punctuation">(</span><span class="token parameter">nums</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> nums<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> nums<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> nums<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">quickSort</span><span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> mid <span class="token operator">=</span> <span class="token function">sort</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>start<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">quickSort</span><span class="token punctuation">(</span>mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> base <span class="token operator">=</span> arr<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> left <span class="token operator">=</span> start<span class="token punctuation">;</span>
  <span class="token keyword">let</span> right <span class="token operator">=</span> end<span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">!==</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">&gt;=</span> base <span class="token operator">&amp;&amp;</span> right <span class="token operator">&gt;</span> left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      right<span class="token operator">--</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> base <span class="token operator">&amp;&amp;</span> right <span class="token operator">&gt;</span> left<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      left<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">=</span> base<span class="token punctuation">;</span>
  <span class="token keyword">return</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><h3 id="_4、instanceof"><a href="#_4、instanceof" class="header-anchor">#</a> 4、instanceof</h3> <p>这个手写一定要懂原型及原型链。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">myInstanceof</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> origin</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> target <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> origin <span class="token operator">!==</span> <span class="token string">'function'</span><span class="token punctuation">)</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'origin must be function'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 相当于 proto = target.__proto__;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>proto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>proto <span class="token operator">===</span> origin<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    proto <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>proto<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="_5、数组扁平化"><a href="#_5、数组扁平化" class="header-anchor">#</a> 5、数组扁平化</h3> <p>重点，不要觉得用不到就不管，这道题就是考察你对 js 语法的熟练程度以及手写代码的基本能力。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">flat</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> depth <span class="token operator">=</span> <span class="token number">1</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>depth <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 以下代码还可以简化，不过为了可读性，还是....</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">flat</span><span class="token punctuation">(</span>cur<span class="token punctuation">,</span> depth <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_6、手写-reduce"><a href="#_6、手写-reduce" class="header-anchor">#</a> 6、手写 reduce</h3> <p>先不考虑第二个参数初始值：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">reduce</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">//this就是调用reduce方法的数组</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 默认为数组的第一项</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    total <span class="token operator">=</span> <span class="token function">cb</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>考虑上初始值：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">reduce</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">cb<span class="token punctuation">,</span> initialValue</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> initialValue <span class="token operator">||</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token comment">// 有初始值的话从0遍历，否则从1遍历</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> initialValue <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    total <span class="token operator">=</span> <span class="token function">cb</span><span class="token punctuation">(</span>total<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_7、带并发的异步调度器-scheduler"><a href="#_7、带并发的异步调度器-scheduler" class="header-anchor">#</a> 7、带并发的异步调度器 Scheduler</h3> <p>JS 实现一个带并发限制的异度调度器 Scheduler，保证同时运行的任务最多有两个。完善下面代码中的 Scheduler 类，使得以下程序能正确输出。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Scheduler</span> <span class="token punctuation">{</span>
  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">promiseMaker</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">timeout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">time</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> time<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> scheduler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scheduler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">addTask</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">time<span class="token punctuation">,</span> order</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  scheduler<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">timeout</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>order<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">addTask</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addTask</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addTask</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token string">'3'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addTask</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token string">'4'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// output：2 3 1 4</span>
<span class="token comment">// 一开始，1，2两个任务进入队列。</span>
<span class="token comment">// 500ms 时，2完成，输出2，任务3入队。</span>
<span class="token comment">// 800ms 时，3完成，输出3，任务4入队。</span>
<span class="token comment">// 1000ms 时，1完成，输出1。</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>根据题目，我们只需要操作 <code>Scheduler</code> 类就行：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Scheduler</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>waitTasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 待执行的任务队列</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>excutingTasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 正在执行的任务队列</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>maxExcutingNum <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 允许同时运行的任务数量</span>
  <span class="token punctuation">}</span>

  <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">promiseMaker</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>excutingTasks<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>maxExcutingNum<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>promiseMaker<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>waitTasks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>promiseMaker<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">promiseMaker</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>excutingTasks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>promiseMaker<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token function">promiseMaker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>excutingTasks<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>waitTasks<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>waitTasks<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_8、去重"><a href="#_8、去重" class="header-anchor">#</a> 8、去重</h3> <ul><li>利用 ES6 <code>set</code> 关键字：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>利用 ES5 <code>filter</code> 方法：</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index<span class="token punctuation">,</span> array</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> array<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="十一、其它"><a href="#十一、其它" class="header-anchor">#</a> 十一、其它</h2> <ol><li>requestAnimationFrame（<a href="https://juejin.cn/post/6991297852462858277" title="https://juejin.cn/post/6991297852462858277" target="_blank" rel="noopener noreferrer">一个神奇的前端动画 API requestAnimationFrame<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</li> <li>如何排查内存泄漏问题，面试官可能会问为什么页面越来越卡顿，直至卡死，怎么定位到产生这种现象的源代码（开发环境）？（<a href="https://juejin.cn/post/6947841638118998029" title="https://juejin.cn/post/6947841638118998029" target="_blank" rel="noopener noreferrer">一文带你了解如何排查内存泄漏导致的页面卡顿现象<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>）</li> <li>vite 大火，我复习的时候是去年 9 月份，还没那么火，可能现在的你需要学一学了～</li> <li>vue3 也一样，如果你是 React 技术栈（就像我之前一样）当我没说。</li></ol> <h2 id="十二、算法"><a href="#十二、算法" class="header-anchor">#</a> 十二、算法</h2> <p>这部分大家可以点击以下这个仓库，按照仓库中的题目顺序进行刷题，都是我亲自刷过的，排了最适合的顺序：<a href="https://github.com/vortesnail/leetcode" title="https://github.com/vortesnail/leetcode" target="_blank" rel="noopener noreferrer">vortesnail/leetcode<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。
然后如果大家想看下大厂的算法高频题可以看这个仓库：<a href="https://github.com/afatcoder/LeetcodeTop" title="https://github.com/afatcoder/LeetcodeTop" target="_blank" rel="noopener noreferrer">afatcoder/LeetcodeTop<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">2024/9/18 下午12:43:18</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blog/pages/掘金收藏/0.关于登录态.html" class="prev">
          0.关于登录态
        </a></span> <span class="next"><a href="/blog/pages/掘金收藏/2.vue.html">
          2.vue
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#前言" class="sidebar-link reco-side-前言" data-v-b57cc07c>前言</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#一、简历" class="sidebar-link reco-side-一、简历" data-v-b57cc07c>一、简历</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_1、重点" class="sidebar-link reco-side-_1、重点" data-v-b57cc07c>1、重点</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_2、简历包含的内容" class="sidebar-link reco-side-_2、简历包含的内容" data-v-b57cc07c>2、简历包含的内容</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_3、注意事项" class="sidebar-link reco-side-_3、注意事项" data-v-b57cc07c>3、注意事项</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_4、面试前准备" class="sidebar-link reco-side-_4、面试前准备" data-v-b57cc07c>4、面试前准备</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#二、html-css-面试题" class="sidebar-link reco-side-二、html-css-面试题" data-v-b57cc07c>二、HTML+CSS 面试题</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_1、html-面试题" class="sidebar-link reco-side-_1、html-面试题" data-v-b57cc07c>1、HTML 面试题</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_2、css-面试题" class="sidebar-link reco-side-_2、css-面试题" data-v-b57cc07c>2、CSS 面试题</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#三、js-基础" class="sidebar-link reco-side-三、js-基础" data-v-b57cc07c>三、js 基础</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_1、数据类型" class="sidebar-link reco-side-_1、数据类型" data-v-b57cc07c>1、数据类型</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_2、-原型和原型链" class="sidebar-link reco-side-_2、-原型和原型链" data-v-b57cc07c>2、 原型和原型链</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_3、-作用域与作用域链" class="sidebar-link reco-side-_3、-作用域与作用域链" data-v-b57cc07c>3、 作用域与作用域链</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_4、-执行上下文" class="sidebar-link reco-side-_4、-执行上下文" data-v-b57cc07c>4、 执行上下文</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_5、-闭包" class="sidebar-link reco-side-_5、-闭包" data-v-b57cc07c>5、 闭包</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_6、-call、apply、bind-实现" class="sidebar-link reco-side-_6、-call、apply、bind-实现" data-v-b57cc07c>6、 call、apply、bind 实现</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_7、-new-实现-创建并初始化一个实例" class="sidebar-link reco-side-_7、-new-实现-创建并初始化一个实例" data-v-b57cc07c>7、 new 实现-创建并初始化一个实例</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_8、-异步" class="sidebar-link reco-side-_8、-异步" data-v-b57cc07c>8、 异步</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_9、-浏览器的垃圾回收机制" class="sidebar-link reco-side-_9、-浏览器的垃圾回收机制" data-v-b57cc07c>9、 浏览器的垃圾回收机制</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_10、-实现一个-eventmitter-类" class="sidebar-link reco-side-_10、-实现一个-eventmitter-类" data-v-b57cc07c>10、 实现一个 EventMitter 类</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#四、web-存储" class="sidebar-link reco-side-四、web-存储" data-v-b57cc07c>四、web 存储</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_1、cookie" class="sidebar-link reco-side-_1、cookie" data-v-b57cc07c>1、cookie</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_2、localstorage-和-sessionstorage" class="sidebar-link reco-side-_2、localstorage-和-sessionstorage" data-v-b57cc07c>2、localStorage 和 sessionStorage</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#五、http" class="sidebar-link reco-side-五、http" data-v-b57cc07c>五、Http</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_1、http-状态码" class="sidebar-link reco-side-_1、http-状态码" data-v-b57cc07c>1、http 状态码</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_2、http-缓存" class="sidebar-link reco-side-_2、http-缓存" data-v-b57cc07c>2、http 缓存</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_3-面试" class="sidebar-link reco-side-_3-面试" data-v-b57cc07c>3\. 面试</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#六、react" class="sidebar-link reco-side-六、react" data-v-b57cc07c>六、React</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_1、-react-事件机制-react-16-和-react-17-事件机制的不同" class="sidebar-link reco-side-_1、-react-事件机制-react-16-和-react-17-事件机制的不同" data-v-b57cc07c>1、 React 事件机制，React 16 和 React 17 事件机制的不同</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_2、class-component" class="sidebar-link reco-side-_2、class-component" data-v-b57cc07c>2、class component</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_3、对函数式编程的理解" class="sidebar-link reco-side-_3、对函数式编程的理解" data-v-b57cc07c>3、对函数式编程的理解</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_4、react-hooks" class="sidebar-link reco-side-_4、react-hooks" data-v-b57cc07c>4、react hooks</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_6、react-hooks-与-class-组件对比" class="sidebar-link reco-side-_6、react-hooks-与-class-组件对比" data-v-b57cc07c>6、react hooks 与 class 组件对比</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_7、介绍-react-dom-diff-算法" class="sidebar-link reco-side-_7、介绍-react-dom-diff-算法" data-v-b57cc07c>7、介绍 React dom diff 算法</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_8、对-react-fiber-的理解" class="sidebar-link reco-side-_8、对-react-fiber-的理解" data-v-b57cc07c>8、对 React Fiber 的理解</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_9、react-性能优化手段" class="sidebar-link reco-side-_9、react-性能优化手段" data-v-b57cc07c>9、React 性能优化手段</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_10、react-redux" class="sidebar-link reco-side-_10、react-redux" data-v-b57cc07c>10、React Redux</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#七、webpack" class="sidebar-link reco-side-七、webpack" data-v-b57cc07c>七、webpack</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#八、模块化" class="sidebar-link reco-side-八、模块化" data-v-b57cc07c>八、模块化</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#九、性能优化" class="sidebar-link reco-side-九、性能优化" data-v-b57cc07c>九、性能优化</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#十、常见手写" class="sidebar-link reco-side-十、常见手写" data-v-b57cc07c>十、常见手写</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_1、防抖" class="sidebar-link reco-side-_1、防抖" data-v-b57cc07c>1、防抖</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_2、节流" class="sidebar-link reco-side-_2、节流" data-v-b57cc07c>2、节流</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_3、快速排序" class="sidebar-link reco-side-_3、快速排序" data-v-b57cc07c>3、快速排序</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_4、instanceof" class="sidebar-link reco-side-_4、instanceof" data-v-b57cc07c>4、instanceof</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_5、数组扁平化" class="sidebar-link reco-side-_5、数组扁平化" data-v-b57cc07c>5、数组扁平化</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_6、手写-reduce" class="sidebar-link reco-side-_6、手写-reduce" data-v-b57cc07c>6、手写 reduce</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_7、带并发的异步调度器-scheduler" class="sidebar-link reco-side-_7、带并发的异步调度器-scheduler" data-v-b57cc07c>7、带并发的异步调度器 Scheduler</a></li><li class="level-3" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#_8、去重" class="sidebar-link reco-side-_8、去重" data-v-b57cc07c>8、去重</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#十一、其它" class="sidebar-link reco-side-十一、其它" data-v-b57cc07c>十一、其它</a></li><li class="level-2" data-v-b57cc07c><a href="/blog/pages/%E6%8E%98%E9%87%91%E6%94%B6%E8%97%8F/1.ms%E5%8C%85%E7%86%9F.html#十二、算法" class="sidebar-link reco-side-十二、算法" data-v-b57cc07c>十二、算法</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/blog/assets/js/app.1bd983b1.js" defer></script><script src="/blog/assets/js/4.84f2b8c1.js" defer></script><script src="/blog/assets/js/1.2f8de4ad.js" defer></script><script src="/blog/assets/js/24.ea221f36.js" defer></script>
  </body>
</html>
